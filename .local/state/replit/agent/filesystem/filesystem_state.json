{"file_contents":{"client/src/components/Navbar.tsx":{"content":"import { useAuth } from \"@/hooks/useAuth\";\nimport { Link, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { UserAvatar } from \"./UserAvatar\";\nimport { Bell, LogOut, Menu } from \"lucide-react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Notification } from \"@shared/schema\";\n\ninterface NavbarProps {\n  onMenuClick?: () => void;\n}\n\nexport function Navbar({ onMenuClick }: NavbarProps) {\n  const { user } = useAuth();\n  const [, setLocation] = useLocation();\n\n  const { data: notifications = [] } = useQuery<Notification[]>({\n    queryKey: [\"/api/notifications\"],\n    enabled: !!user,\n  });\n\n  const unreadCount = notifications.filter(n => !n.isRead).length;\n\n  const roleDisplay = {\n    student: \"Student\",\n    teacher: \"Teacher\",\n    university_admin: \"University Admin\",\n    industry_partner: \"Industry Partner\",\n    master_admin: \"Master Admin\",\n  };\n\n  return (\n    <nav className=\"sticky top-0 z-50 border-b bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white backdrop-blur-sm\">\n      <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n        {/* Left: Logo & Menu */}\n        <div className=\"flex items-center gap-4\">\n          {onMenuClick && (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={onMenuClick}\n              className=\"text-white hover:bg-white/20 md:hidden\"\n              data-testid=\"button-menu\"\n            >\n              <Menu className=\"h-5 w-5\" />\n            </Button>\n          )}\n          <Link href=\"/\">\n            <a className=\"flex items-center gap-2\" data-testid=\"link-home\">\n              <div className=\"h-8 w-8 rounded-lg bg-white/20 backdrop-blur flex items-center justify-center font-heading font-bold text-lg\">\n                U\n              </div>\n              <span className=\"font-heading font-bold text-xl hidden sm:inline\">UniNexus</span>\n            </a>\n          </Link>\n        </div>\n\n        {/* Right: User Menu */}\n        {user && (\n          <div className=\"flex items-center gap-3\">\n            {/* Notifications */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"relative text-white hover:bg-white/20\"\n                  data-testid=\"button-notifications\"\n                >\n                  <Bell className=\"h-5 w-5\" />\n                  {unreadCount > 0 && (\n                    <Badge\n                      className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-xs\"\n                      data-testid=\"badge-unread-count\"\n                    >\n                      {unreadCount > 9 ? \"9+\" : unreadCount}\n                    </Badge>\n                  )}\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-80\">\n                <DropdownMenuLabel>Notifications</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                {notifications.length === 0 ? (\n                  <div className=\"p-4 text-center text-sm text-muted-foreground\">\n                    No notifications yet\n                  </div>\n                ) : (\n                  <div className=\"max-h-96 overflow-y-auto\">\n                    {notifications.slice(0, 5).map((notification) => (\n                      <DropdownMenuItem\n                        key={notification.id}\n                        className={`flex flex-col items-start gap-1 p-3 ${!notification.isRead ? 'bg-primary/5' : ''}`}\n                        data-testid={`notification-${notification.id}`}\n                      >\n                        <div className=\"font-medium text-sm\">{notification.title}</div>\n                        <div className=\"text-xs text-muted-foreground line-clamp-2\">{notification.message}</div>\n                      </DropdownMenuItem>\n                    ))}\n                  </div>\n                )}\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* User Menu */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  className=\"flex items-center gap-2 hover:bg-white/20\"\n                  data-testid=\"button-user-menu\"\n                >\n                  <UserAvatar user={user} size=\"sm\" />\n                  <div className=\"hidden md:flex flex-col items-start\">\n                    <span className=\"text-sm font-medium\">{user.firstName} {user.lastName}</span>\n                    <span className=\"text-xs opacity-90\">{roleDisplay[user.role as keyof typeof roleDisplay]}</span>\n                  </div>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuLabel>My Account</DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={() => setLocation('/profile')} data-testid=\"link-profile\">\n                  View Profile\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={() => setLocation('/settings')} data-testid=\"link-settings\">\n                  Settings\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem\n                  onClick={() => window.location.href = '/api/logout'}\n                  className=\"text-destructive focus:text-destructive\"\n                  data-testid=\"button-logout\"\n                >\n                  <LogOut className=\"mr-2 h-4 w-4\" />\n                  Log Out\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        )}\n      </div>\n    </nav>\n  );\n}\n","size_bytes":6098},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/Leaderboard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { User } from \"@shared/schema\";\nimport { UserAvatar } from \"@/components/UserAvatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Trophy, TrendingUp, Award, Zap } from \"lucide-react\";\n\nexport default function Leaderboard() {\n  const { data: students = [] } = useQuery<User[]>({\n    queryKey: [\"/api/students\"],\n  });\n\n  const engagementLeaders = [...students]\n    .filter(s => s.role === 'student')\n    .sort((a, b) => (b.engagementScore || 0) - (a.engagementScore || 0));\n\n  const problemSolverLeaders = [...students]\n    .filter(s => s.role === 'student')\n    .sort((a, b) => (b.problemSolverScore || 0) - (a.problemSolverScore || 0));\n\n  const endorsementLeaders = [...students]\n    .filter(s => s.role === 'student')\n    .sort((a, b) => (b.endorsementScore || 0) - (a.endorsementScore || 0));\n\n  const LeaderboardList = ({ students, scoreKey, label }: { \n    students: User[], \n    scoreKey: 'engagementScore' | 'problemSolverScore' | 'endorsementScore',\n    label: string \n  }) => (\n    <div className=\"space-y-2\">\n      {students.map((student, index) => {\n        const score = student[scoreKey] || 0;\n        const isTopThree = index < 3;\n        \n        return (\n          <Card\n            key={student.id}\n            className={`p-4 ${isTopThree ? 'border-2 border-primary/50 bg-primary/5' : ''}`}\n            data-testid={`leaderboard-${index}`}\n          >\n            <div className=\"flex items-center gap-4\">\n              <div\n                className={`\n                  flex items-center justify-center\n                  font-bold text-lg min-w-[3rem]\n                  ${index === 0 ? 'text-yellow-600' : ''}\n                  ${index === 1 ? 'text-gray-500' : ''}\n                  ${index === 2 ? 'text-amber-700' : ''}\n                `}\n              >\n                {index === 0 ? <Trophy className=\"h-6 w-6 text-yellow-600\" /> : \n                 index === 1 ? <Award className=\"h-6 w-6 text-gray-500\" /> :\n                 index === 2 ? <Award className=\"h-6 w-6 text-amber-700\" /> :\n                 `#${index + 1}`}\n              </div>\n\n              <UserAvatar user={student} size=\"md\" />\n\n              <div className=\"flex-1\">\n                <div className=\"font-semibold\">\n                  {student.firstName} {student.lastName}\n                </div>\n                <div className=\"text-sm text-muted-foreground\">\n                  {student.major || 'No major specified'}\n                </div>\n              </div>\n\n              <div className=\"text-right\">\n                <div className=\"text-2xl font-bold\">{score}</div>\n                <div className=\"text-xs text-muted-foreground\">{label}</div>\n              </div>\n\n              {student.streak && student.streak > 0 && (\n                <Badge variant=\"secondary\" className=\"gap-1\">\n                  <Zap className=\"h-3 w-3\" />\n                  {student.streak} day streak\n                </Badge>\n              )}\n            </div>\n          </Card>\n        );\n      })}\n    </div>\n  );\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-5xl\">\n      <div className=\"mb-8 text-center\">\n        <Trophy className=\"h-16 w-16 mx-auto mb-4 text-yellow-600\" />\n        <h1 className=\"font-heading text-4xl font-bold mb-2\">Leaderboard</h1>\n        <p className=\"text-muted-foreground\">\n          Top performers in the UniNexus community\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"engagement\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-3\">\n          <TabsTrigger value=\"engagement\" className=\"gap-2\" data-testid=\"tab-engagement\">\n            <TrendingUp className=\"h-4 w-4\" />\n            Engagement\n          </TabsTrigger>\n          <TabsTrigger value=\"problem-solver\" className=\"gap-2\" data-testid=\"tab-problem-solver\">\n            <Trophy className=\"h-4 w-4\" />\n            Problem Solver\n          </TabsTrigger>\n          <TabsTrigger value=\"endorsements\" className=\"gap-2\" data-testid=\"tab-endorsements\">\n            <Award className=\"h-4 w-4\" />\n            Endorsements\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"engagement\">\n          <LeaderboardList \n            students={engagementLeaders} \n            scoreKey=\"engagementScore\" \n            label=\"points\"\n          />\n        </TabsContent>\n\n        <TabsContent value=\"problem-solver\">\n          <LeaderboardList \n            students={problemSolverLeaders} \n            scoreKey=\"problemSolverScore\" \n            label=\"points\"\n          />\n        </TabsContent>\n\n        <TabsContent value=\"endorsements\">\n          <LeaderboardList \n            students={endorsementLeaders} \n            scoreKey=\"endorsementScore\" \n            label=\"endorsements\"\n          />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":4977},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(\n  claims: any,\n) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  // Keep track of registered strategies\n  const registeredStrategies = new Set<string>();\n\n  // Helper function to ensure strategy exists for a domain\n  const ensureStrategy = (domain: string) => {\n    const strategyName = `replitauth:${domain}`;\n    if (!registeredStrategies.has(strategyName)) {\n      const strategy = new Strategy(\n        {\n          name: strategyName,\n          config,\n          scope: \"openid email profile offline_access\",\n          callbackURL: `https://${domain}/api/callback`,\n        },\n        verify,\n      );\n      passport.use(strategy);\n      registeredStrategies.add(strategyName);\n    }\n  };\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    ensureStrategy(req.hostname);\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    ensureStrategy(req.hostname);\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","size_bytes":4472},"client/src/pages/Register.tsx":{"content":"import { useState } from 'react';\nimport { useAuth } from '@/lib/AuthContext';\nimport { Link, useLocation } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Chrome, Users, GraduationCap, Building2, Briefcase, Shield } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\n\nconst registerSchema = z.object({\n  email: z.string().email('Please enter a valid email'),\n  password: z.string().min(6, 'Password must be at least 6 characters'),\n  confirmPassword: z.string(),\n  displayName: z.string().min(2, 'Name must be at least 2 characters'),\n  role: z.enum(['student', 'teacher', 'industry_professional', 'university_admin', 'master_admin']),\n  university: z.string().optional(),\n  major: z.string().optional(),\n  company: z.string().optional(),\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"],\n});\n\ntype RegisterFormData = z.infer<typeof registerSchema>;\n\nconst roleOptions = [\n  { value: 'student', label: 'Student', icon: GraduationCap, description: 'Access learning content and social features' },\n  { value: 'teacher', label: 'Teacher', icon: Users, description: 'Mentor students and view analytics' },\n  { value: 'industry_professional', label: 'Industry Professional', icon: Briefcase, description: 'Connect with talent and share insights' },\n  { value: 'university_admin', label: 'University Admin', icon: Building2, description: 'Manage institutional oversight' },\n  { value: 'master_admin', label: 'Master Admin', icon: Shield, description: 'Platform-wide administration' },\n];\n\nexport default function Register() {\n  const { signUp, signInWithGoogle } = useAuth();\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm<RegisterFormData>({\n    resolver: zodResolver(registerSchema),\n    defaultValues: {\n      email: '',\n      password: '',\n      confirmPassword: '',\n      displayName: '',\n      role: 'student',\n      university: '',\n      major: '',\n      company: '',\n    },\n  });\n\n  const selectedRole = form.watch('role');\n\n  const onSubmit = async (data: RegisterFormData) => {\n    setIsLoading(true);\n    try {\n      const additionalData: any = {};\n      \n      if (data.role === 'student') {\n        additionalData.university = data.university || '';\n        additionalData.major = data.major || '';\n      } else if (data.role === 'industry_professional') {\n        additionalData.company = data.company || '';\n      } else if (data.role === 'teacher' || data.role === 'university_admin') {\n        additionalData.university = data.university || '';\n      }\n\n      await signUp(data.email, data.password, data.displayName, data.role, additionalData);\n      \n      toast({\n        title: 'Account created!',\n        description: 'Welcome to UniNexus. Your profile has been created successfully.',\n      });\n      navigate('/');\n    } catch (error: any) {\n      toast({\n        title: 'Registration failed',\n        description: error.message || 'Please try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleSignUp = async () => {\n    setIsLoading(true);\n    try {\n      await signInWithGoogle();\n      toast({\n        title: 'Welcome!',\n        description: 'You have successfully signed up with Google.',\n      });\n      navigate('/');\n    } catch (error: any) {\n      toast({\n        title: 'Google sign up failed',\n        description: error.message || 'Please try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500\">\n      <Card className=\"w-full max-w-2xl\">\n        <CardHeader className=\"gap-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"h-8 w-8 rounded-md bg-gradient-to-br from-purple-500 to-pink-500\" />\n            <CardTitle className=\"text-2xl\">Join UniNexus</CardTitle>\n          </div>\n          <CardDescription>Create your account to get started</CardDescription>\n        </CardHeader>\n        <CardContent className=\"gap-6 flex flex-col\">\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"gap-4 flex flex-col\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"displayName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Full Name</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"John Doe\" \n                          data-testid=\"input-displayname\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Email</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"your.email@university.edu\" \n                          type=\"email\"\n                          data-testid=\"input-email\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"password\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Password</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" \n                          type=\"password\"\n                          data-testid=\"input-password\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"confirmPassword\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Confirm Password</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" \n                          type=\"password\"\n                          data-testid=\"input-confirm-password\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <FormField\n                control={form.control}\n                name=\"role\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>I am a...</FormLabel>\n                    <Select onValueChange={field.onChange} defaultValue={field.value}>\n                      <FormControl>\n                        <SelectTrigger data-testid=\"select-role\">\n                          <SelectValue placeholder=\"Select your role\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {roleOptions.map((option) => {\n                          const Icon = option.icon;\n                          return (\n                            <SelectItem key={option.value} value={option.value}>\n                              <div className=\"flex items-center gap-2\">\n                                <Icon className=\"h-4 w-4\" />\n                                <div>\n                                  <div className=\"font-medium\">{option.label}</div>\n                                  <div className=\"text-xs text-muted-foreground\">{option.description}</div>\n                                </div>\n                              </div>\n                            </SelectItem>\n                          );\n                        })}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              {(selectedRole === 'student' || selectedRole === 'teacher' || selectedRole === 'university_admin') && (\n                <FormField\n                  control={form.control}\n                  name=\"university\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>University</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"University name\" \n                          data-testid=\"input-university\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              )}\n\n              {selectedRole === 'student' && (\n                <FormField\n                  control={form.control}\n                  name=\"major\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Major / Field of Study</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Computer Science\" \n                          data-testid=\"input-major\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              )}\n\n              {selectedRole === 'industry_professional' && (\n                <FormField\n                  control={form.control}\n                  name=\"company\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Company</FormLabel>\n                      <FormControl>\n                        <Input \n                          placeholder=\"Company name\" \n                          data-testid=\"input-company\"\n                          {...field} \n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              )}\n\n              <Button \n                type=\"submit\" \n                className=\"w-full\"\n                disabled={isLoading}\n                data-testid=\"button-register\"\n              >\n                {isLoading ? 'Creating account...' : 'Create Account'}\n              </Button>\n            </form>\n          </Form>\n\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 flex items-center\">\n              <span className=\"w-full border-t\" />\n            </div>\n            <div className=\"relative flex justify-center text-xs uppercase\">\n              <span className=\"bg-card px-2 text-muted-foreground\">Or continue with</span>\n            </div>\n          </div>\n\n          <Button\n            variant=\"outline\"\n            onClick={handleGoogleSignUp}\n            disabled={isLoading}\n            className=\"w-full gap-2\"\n            data-testid=\"button-google-register\"\n          >\n            <Chrome className=\"h-4 w-4\" />\n            Sign up with Google\n          </Button>\n\n          <div className=\"text-center text-sm text-muted-foreground\">\n            Already have an account?{' '}\n            <Link href=\"/login\">\n              <a className=\"text-primary hover:underline\" data-testid=\"link-login\">\n                Sign in\n              </a>\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":12778},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AuthProvider, useAuth } from \"@/lib/AuthContext\";\nimport { Navbar } from \"@/components/Navbar\";\nimport { CareerBot } from \"@/components/CareerBot\";\nimport Landing from \"@/pages/Landing\";\nimport Login from \"@/pages/Login\";\nimport Register from \"@/pages/Register\";\nimport StudentHome from \"@/pages/StudentHome\";\nimport TeacherDashboard from \"@/pages/TeacherDashboard\";\nimport UniversityDashboard from \"@/pages/UniversityDashboard\";\nimport IndustryDashboard from \"@/pages/IndustryDashboard\";\nimport MasterAdminDashboard from \"@/pages/MasterAdminDashboard\";\nimport Leaderboard from \"@/pages/Leaderboard\";\nimport Profile from \"@/pages/Profile\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  const { currentUser, userData, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500\">\n        <div className=\"text-center\">\n          <div className=\"h-16 w-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\n          <p className=\"text-white font-medium\">Loading UniNexus...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!currentUser || !userData) {\n    return (\n      <Switch>\n        <Route path=\"/\" component={Landing} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route component={Login} />\n      </Switch>\n    );\n  }\n\n  // Determine home page based on role\n  const getHomePage = () => {\n    switch (userData.role) {\n      case 'teacher':\n        return TeacherDashboard;\n      case 'university_admin':\n        return UniversityDashboard;\n      case 'industry_professional':\n        return IndustryDashboard;\n      case 'master_admin':\n        return MasterAdminDashboard;\n      default:\n        return StudentHome;\n    }\n  };\n\n  const HomePage = getHomePage();\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Navbar />\n      <Switch>\n        <Route path=\"/\" component={HomePage} />\n        <Route path=\"/leaderboard\" component={Leaderboard} />\n        <Route path=\"/profile\" component={Profile} />\n        \n        {/* Role-specific routes */}\n        <Route path=\"/teacher\" component={TeacherDashboard} />\n        <Route path=\"/university\" component={UniversityDashboard} />\n        <Route path=\"/industry\" component={IndustryDashboard} />\n        <Route path=\"/admin\" component={MasterAdminDashboard} />\n        \n        {/* 404 fallback */}\n        <Route component={NotFound} />\n      </Switch>\n      \n      {/* Career Bot - Only for students */}\n      {userData.role === 'student' && <CareerBot />}\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <AuthProvider>\n          <Toaster />\n          <Router />\n        </AuthProvider>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":3234},"client/src/components/CareerBot.tsx":{"content":"import { useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { MessageCircle, Send, X, Sparkles } from \"lucide-react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\ninterface Message {\n  role: 'user' | 'assistant';\n  content: string;\n}\n\nexport function CareerBot() {\n  const { user } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      role: 'assistant',\n      content: `Hi ${user?.firstName || 'there'}! ðŸ‘‹ I'm your AI CareerBot. I can help you with:\\n\\nâ€¢ Career advice and guidance\\nâ€¢ Skill gap analysis\\nâ€¢ Resume tips\\nâ€¢ Interview preparation\\nâ€¢ Learning path recommendations\\n\\nWhat would you like to know?`\n    }\n  ]);\n  const [input, setInput] = useState(\"\");\n\n  const chatMutation = useMutation({\n    mutationFn: async (userMessage: string) => {\n      return apiRequest<{ message: string }>(\"POST\", \"/api/careerbot/chat\", { message: userMessage });\n    },\n    onSuccess: (data) => {\n      setMessages(prev => [...prev, { role: 'assistant', content: data.message }]);\n    },\n  });\n\n  const handleSend = () => {\n    if (!input.trim()) return;\n\n    const userMessage = input.trim();\n    setMessages(prev => [...prev, { role: 'user', content: userMessage }]);\n    setInput(\"\");\n    chatMutation.mutate(userMessage);\n  };\n\n  if (!isOpen) {\n    return (\n      <Button\n        onClick={() => setIsOpen(true)}\n        className=\"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 p-0 z-50\"\n        data-testid=\"button-open-careerbot\"\n      >\n        <MessageCircle className=\"h-6 w-6\" />\n        <div className=\"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full animate-pulse\" />\n      </Button>\n    );\n  }\n\n  return (\n    <Card className=\"fixed bottom-6 right-6 w-96 h-[600px] shadow-2xl z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"p-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-t-lg flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Sparkles className=\"h-5 w-5\" />\n          <span className=\"font-heading font-semibold\">AI CareerBot</span>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={() => setIsOpen(false)}\n          className=\"text-white hover:bg-white/20\"\n          data-testid=\"button-close-careerbot\"\n        >\n          <X className=\"h-5 w-5\" />\n        </Button>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/20\">\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n          >\n            <div\n              className={`\n                max-w-[80%] rounded-lg p-3\n                ${message.role === 'user'\n                  ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white'\n                  : 'bg-white dark:bg-gray-800 border'\n                }\n              `}\n              data-testid={`message-${index}`}\n            >\n              <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n            </div>\n          </div>\n        ))}\n        {chatMutation.isPending && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-white dark:bg-gray-800 border rounded-lg p-3\">\n              <div className=\"flex gap-1\">\n                <div className=\"h-2 w-2 rounded-full bg-purple-600 animate-bounce\" style={{ animationDelay: '0ms' }} />\n                <div className=\"h-2 w-2 rounded-full bg-purple-600 animate-bounce\" style={{ animationDelay: '150ms' }} />\n                <div className=\"h-2 w-2 rounded-full bg-purple-600 animate-bounce\" style={{ animationDelay: '300ms' }} />\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input */}\n      <div className=\"p-4 border-t\">\n        <div className=\"flex gap-2\">\n          <Textarea\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSend();\n              }\n            }}\n            placeholder=\"Ask me anything about your career...\"\n            className=\"resize-none min-h-[60px]\"\n            data-testid=\"input-careerbot-message\"\n          />\n          <Button\n            onClick={handleSend}\n            disabled={!input.trim() || chatMutation.isPending}\n            className=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700\"\n            data-testid=\"button-send-message\"\n          >\n            <Send className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":5099},"client/src/pages/UniversityDashboard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { User } from \"@shared/schema\";\nimport { TrendingUp, TrendingDown, Users, Award, Target, AlertTriangle } from \"lucide-react\";\nimport { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\n\nexport default function UniversityDashboard() {\n  const { data: students = [] } = useQuery<User[]>({\n    queryKey: [\"/api/students\"],\n  });\n\n  const totalStudents = students.length;\n  const activeStudents = students.filter(s => (s.engagementScore || 0) > 50).length;\n  const avgEngagement = Math.round(\n    students.reduce((sum, s) => sum + (s.engagementScore || 0), 0) / totalStudents || 0\n  );\n  const atRiskStudents = students.filter(s => (s.engagementScore || 0) < 30).length;\n\n  // Mock engagement data\n  const engagementData = [\n    { month: \"Jan\", active: 245, total: 320 },\n    { month: \"Feb\", active: 268, total: 325 },\n    { month: \"Mar\", active: 289, total: 330 },\n    { month: \"Apr\", active: 312, total: 340 },\n    { month: \"May\", active: 298, total: 338 },\n    { month: \"Jun\", active: 325, total: 350 },\n  ];\n\n  const retentionData = [\n    { department: \"CS\", retention: 94 },\n    { department: \"Math\", retention: 88 },\n    { department: \"Physics\", retention: 91 },\n    { department: \"Chem\", retention: 85 },\n    { department: \"Bio\", retention: 89 },\n  ];\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-7xl\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-heading text-3xl font-bold mb-2\">University Dashboard</h1>\n        <p className=\"text-muted-foreground\">\n          Monitor institutional engagement and retention metrics\n        </p>\n      </div>\n\n      {/* Key Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-muted-foreground\">Total Students</div>\n            <Users className=\"h-5 w-5 text-primary\" />\n          </div>\n          <div className=\"text-3xl font-bold mb-1\">{totalStudents}</div>\n          <div className=\"flex items-center text-xs text-green-600\">\n            <TrendingUp className=\"h-3 w-3 mr-1\" />\n            +5.2% from last month\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-muted-foreground\">Active Students</div>\n            <Target className=\"h-5 w-5 text-green-600\" />\n          </div>\n          <div className=\"text-3xl font-bold mb-1\">{activeStudents}</div>\n          <div className=\"text-xs text-muted-foreground\">\n            {Math.round((activeStudents / totalStudents) * 100)}% engagement rate\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-muted-foreground\">Avg Engagement</div>\n            <Award className=\"h-5 w-5 text-blue-600\" />\n          </div>\n          <div className=\"text-3xl font-bold mb-1\">{avgEngagement}</div>\n          <div className=\"flex items-center text-xs text-green-600\">\n            <TrendingUp className=\"h-3 w-3 mr-1\" />\n            +12.5% from last month\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"text-sm text-muted-foreground\">At-Risk Students</div>\n            <AlertTriangle className=\"h-5 w-5 text-red-600\" />\n          </div>\n          <div className=\"text-3xl font-bold mb-1\">{atRiskStudents}</div>\n          <div className=\"flex items-center text-xs text-red-600\">\n            <TrendingDown className=\"h-3 w-3 mr-1\" />\n            Needs attention\n          </div>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n        {/* Engagement Trend */}\n        <Card className=\"p-6\">\n          <h3 className=\"font-heading font-semibold text-lg mb-4\">Engagement Trend</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={engagementData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"month\" />\n              <YAxis />\n              <Tooltip />\n              <Line type=\"monotone\" dataKey=\"active\" stroke=\"#8b5cf6\" strokeWidth={2} />\n              <Line type=\"monotone\" dataKey=\"total\" stroke=\"#ec4899\" strokeWidth={2} />\n            </LineChart>\n          </ResponsiveContainer>\n        </Card>\n\n        {/* Retention by Department */}\n        <Card className=\"p-6\">\n          <h3 className=\"font-heading font-semibold text-lg mb-4\">Retention by Department</h3>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={retentionData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"department\" />\n              <YAxis />\n              <Tooltip />\n              <Bar dataKey=\"retention\" fill=\"#8b5cf6\" radius={[8, 8, 0, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </Card>\n      </div>\n\n      {/* Announcements */}\n      <Card className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"font-heading font-semibold text-lg\">Recent Announcements</h3>\n          <Button data-testid=\"button-create-announcement\">Create Announcement</Button>\n        </div>\n        <div className=\"space-y-3\">\n          <div className=\"border-l-4 border-primary pl-4 py-2\">\n            <div className=\"font-medium\">Welcome to the new semester!</div>\n            <div className=\"text-sm text-muted-foreground\">Posted 2 days ago</div>\n          </div>\n          <div className=\"border-l-4 border-blue-500 pl-4 py-2\">\n            <div className=\"font-medium\">Career fair scheduled for next month</div>\n            <div className=\"text-sm text-muted-foreground\">Posted 1 week ago</div>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":6148},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/RoleGuard.tsx":{"content":"import { useAuth } from \"@/hooks/useAuth\";\nimport { useEffect } from \"react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface RoleGuardProps {\n  allowedRoles: string[];\n  children: React.ReactNode;\n  fallback?: React.ReactNode;\n}\n\nexport function RoleGuard({ allowedRoles, children, fallback }: RoleGuardProps) {\n  const { user, isLoading } = useAuth();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (!isLoading && user && !allowedRoles.includes(user.role)) {\n      toast({\n        title: \"Access Denied\",\n        description: \"You don't have permission to view this page.\",\n        variant: \"destructive\",\n      });\n    }\n  }, [user, isLoading, allowedRoles, toast]);\n\n  if (isLoading) {\n    return null;\n  }\n\n  if (!user || !allowedRoles.includes(user.role)) {\n    return fallback || null;\n  }\n\n  return <>{children}</>;\n}\n","size_bytes":848},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 98%;\n\n  --foreground: 240 6% 10%;\n\n  --border: 240 6% 88%;\n\n  --card: 240 5% 96%;\n\n  --card-foreground: 240 6% 10%;\n\n  --card-border: 240 5% 90%;\n\n  --sidebar: 240 5% 94%;\n\n  --sidebar-foreground: 240 6% 10%;\n\n  --sidebar-border: 240 5% 88%;\n\n  --sidebar-primary: 280 85% 55%;\n\n  --sidebar-primary-foreground: 280 10% 98%;\n\n  --sidebar-accent: 240 8% 88%;\n\n  --sidebar-accent-foreground: 240 6% 10%;\n\n  --sidebar-ring: 280 85% 55%;\n\n  --popover: 240 6% 92%;\n\n  --popover-foreground: 240 6% 10%;\n\n  --popover-border: 240 6% 86%;\n\n  --primary: 280 85% 55%;\n\n  --primary-foreground: 280 10% 98%;\n\n  --secondary: 240 6% 88%;\n\n  --secondary-foreground: 240 6% 10%;\n\n  --muted: 240 8% 90%;\n\n  --muted-foreground: 240 6% 35%;\n\n  --accent: 240 12% 89%;\n\n  --accent-foreground: 240 6% 10%;\n\n  --destructive: 0 84% 48%;\n\n  --destructive-foreground: 0 10% 98%;\n\n  --input: 240 6% 75%;\n  --ring: 280 85% 55%;\n  --chart-1: 280 85% 45%;\n  --chart-2: 320 75% 48%;\n  --chart-3: 260 70% 50%;\n  --chart-4: 200 80% 42%;\n  --chart-5: 340 70% 46%;\n\n  --font-sans: 'Inter', sans-serif;\n  --font-heading: 'Poppins', sans-serif;\n  --font-mono: 'Menlo', monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 2px 0px 0px hsl(280 85% 55% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(280 85% 55% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(280 85% 55% / 0.00), 0px 1px 2px -1px hsl(280 85% 55% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(280 85% 55% / 0.00), 0px 1px 2px -1px hsl(280 85% 55% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(280 85% 55% / 0.00), 0px 2px 4px -1px hsl(280 85% 55% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(280 85% 55% / 0.00), 0px 4px 6px -1px hsl(280 85% 55% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(280 85% 55% / 0.00), 0px 8px 10px -1px hsl(280 85% 55% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(280 85% 55% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 240 6% 8%;\n\n  --foreground: 240 5% 92%;\n\n  --border: 240 5% 18%;\n\n  --card: 240 5% 10%;\n\n  --card-foreground: 240 5% 92%;\n\n  --card-border: 240 5% 16%;\n\n  --sidebar: 240 5% 12%;\n\n  --sidebar-foreground: 240 5% 92%;\n\n  --sidebar-border: 240 5% 18%;\n\n  --sidebar-primary: 280 85% 58%;\n\n  --sidebar-primary-foreground: 280 10% 98%;\n\n  --sidebar-accent: 240 8% 16%;\n\n  --sidebar-accent-foreground: 240 5% 92%;\n\n  --sidebar-ring: 280 85% 58%;\n\n  --popover: 240 6% 14%;\n\n  --popover-foreground: 240 5% 92%;\n\n  --popover-border: 240 6% 20%;\n\n  --primary: 280 85% 58%;\n\n  --primary-foreground: 280 10% 98%;\n\n  --secondary: 240 6% 18%;\n\n  --secondary-foreground: 240 5% 92%;\n\n  --muted: 240 8% 16%;\n\n  --muted-foreground: 240 5% 70%;\n\n  --accent: 240 12% 15%;\n\n  --accent-foreground: 240 5% 92%;\n\n  --destructive: 0 84% 52%;\n\n  --destructive-foreground: 0 10% 98%;\n\n  --input: 240 6% 35%;\n  --ring: 280 85% 58%;\n  --chart-1: 280 85% 65%;\n  --chart-2: 320 75% 68%;\n  --chart-3: 260 70% 70%;\n  --chart-4: 200 80% 62%;\n  --chart-5: 340 70% 66%;\n\n  --shadow-2xs: 0px 2px 0px 0px hsl(280 85% 58% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(280 85% 58% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(280 85% 58% / 0.00), 0px 1px 2px -1px hsl(280 85% 58% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(280 85% 58% / 0.00), 0px 1px 2px -1px hsl(280 85% 58% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(280 85% 58% / 0.00), 0px 2px 4px -1px hsl(280 85% 58% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(280 85% 58% / 0.00), 0px 4px 6px -1px hsl(280 85% 58% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(280 85% 58% / 0.00), 0px 8px 10px -1px hsl(280 85% 58% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(280 85% 58% / 0.00);\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n\n  /* Gen Z Neon Gradient Utilities */\n  .gradient-genz {\n    background: linear-gradient(135deg, #a855f7 0%, #3b82f6 50%, #ec4899 100%);\n  }\n\n  .gradient-genz-purple {\n    background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);\n  }\n\n  .gradient-genz-blue {\n    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  }\n\n  .gradient-genz-pink {\n    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);\n  }\n\n  .gradient-text {\n    background: linear-gradient(135deg, #a855f7 0%, #3b82f6 50%, #ec4899 100%);\n    -webkit-background-clip: text;\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n  }\n\n  .neon-glow {\n    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3), 0 0 40px rgba(168, 85, 247, 0.1);\n  }\n\n  .neon-glow-blue {\n    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3), 0 0 40px rgba(59, 130, 246, 0.1);\n  }\n\n  .neon-glow-pink {\n    box-shadow: 0 0 20px rgba(236, 72, 153, 0.3), 0 0 40px rgba(236, 72, 153, 0.1);\n  }\n\n  /* Smooth animations */\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes slideIn {\n    from {\n      transform: translateX(-20px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes pulse {\n    0%, 100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.8;\n    }\n  }\n\n  .animate-fade-in {\n    animation: fadeIn 0.5s ease-out forwards;\n  }\n\n  .animate-slide-in {\n    animation: slideIn 0.4s ease-out forwards;\n  }\n\n  .animate-pulse-slow {\n    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n\n  /* Smooth transitions for all interactive elements */\n  button, a, .hover-elevate {\n    transition: all 0.2s ease-in-out;\n  }\n}","size_bytes":13017},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/GradientButton.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { ButtonHTMLAttributes, forwardRef } from \"react\";\n\ninterface GradientButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"purple\" | \"pink\" | \"blue\";\n  children: React.ReactNode;\n}\n\nexport const GradientButton = forwardRef<HTMLButtonElement, GradientButtonProps>(\n  ({ variant = \"purple\", className = \"\", children, ...props }, ref) => {\n    const gradients = {\n      purple: \"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700\",\n      pink: \"bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700\",\n      blue: \"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\",\n    };\n\n    return (\n      <Button\n        ref={ref}\n        className={`${gradients[variant]} text-white font-semibold shadow-lg ${className}`}\n        {...props}\n      >\n        {children}\n      </Button>\n    );\n  }\n);\n\nGradientButton.displayName = \"GradientButton\";\n","size_bytes":1006},"client/src/pages/Landing.tsx":{"content":"import { GradientButton } from \"@/components/GradientButton\";\nimport { Card } from \"@/components/ui/card\";\nimport { Sparkles, Users, Trophy, Zap, Building2, Briefcase } from \"lucide-react\";\n\nexport default function Landing() {\n  const demoAccounts = [\n    {\n      role: \"Student\",\n      email: \"demo.student@uninexus.app\",\n      description: \"Experience the social feed, gamification, and AI CareerBot\",\n      icon: Users,\n      gradient: \"from-purple-500 to-pink-500\",\n    },\n    {\n      role: \"Teacher\",\n      email: \"demo.teacher@uninexus.app\",\n      description: \"Access student analytics and endorsement tools\",\n      icon: Trophy,\n      gradient: \"from-blue-500 to-purple-500\",\n    },\n    {\n      role: \"University Admin\",\n      email: \"demo.university@uninexus.app\",\n      description: \"View retention metrics and institutional insights\",\n      icon: Building2,\n      gradient: \"from-pink-500 to-rose-500\",\n    },\n    {\n      role: \"Industry Partner\",\n      email: \"demo.industry@uninexus.app\",\n      description: \"Discover talent and post challenges\",\n      icon: Briefcase,\n      gradient: \"from-blue-600 to-indigo-600\",\n    },\n    {\n      role: \"Master Admin\",\n      email: \"demo.admin@uninexus.app\",\n      description: \"Full platform control and moderation\",\n      icon: Zap,\n      gradient: \"from-purple-600 to-blue-600\",\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20\">\n      {/* Hero Section */}\n      <div className=\"container mx-auto px-4 py-16\">\n        <div className=\"text-center max-w-4xl mx-auto mb-16\">\n          <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-purple-600/10 to-pink-600/10 border border-purple-300/50 mb-6\">\n            <Sparkles className=\"h-4 w-4 text-purple-600\" />\n            <span className=\"text-sm font-medium text-purple-700 dark:text-purple-300\">Gen Z Student Ecosystem</span>\n          </div>\n          \n          <h1 className=\"font-heading text-6xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent\">\n            Welcome to UniNexus\n          </h1>\n          \n          <p className=\"text-xl md:text-2xl text-gray-700 dark:text-gray-300 mb-8 leading-relaxed\">\n            Connect, learn, and grow with AI-powered features, gamification, and a vibrant community of students, teachers, and industry partners.\n          </p>\n\n          <GradientButton\n            onClick={() => window.location.href = '/api/login'}\n            className=\"text-lg px-8 py-6 rounded-xl\"\n            data-testid=\"button-login\"\n          >\n            Get Started\n          </GradientButton>\n        </div>\n\n        {/* Demo Accounts Section */}\n        <div className=\"max-w-6xl mx-auto\">\n          <h2 className=\"font-heading text-3xl font-bold text-center mb-8\">\n            Try Demo Accounts\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {demoAccounts.map((account) => {\n              const Icon = account.icon;\n              return (\n                <Card\n                  key={account.role}\n                  className=\"p-6 hover-elevate active-elevate-2 cursor-pointer transition-all\"\n                  onClick={() => window.location.href = '/api/login'}\n                  data-testid={`card-demo-${account.role.toLowerCase().replace(/\\s+/g, '-')}`}\n                >\n                  <div className={`h-12 w-12 rounded-xl bg-gradient-to-br ${account.gradient} flex items-center justify-center mb-4`}>\n                    <Icon className=\"h-6 w-6 text-white\" />\n                  </div>\n                  \n                  <h3 className=\"font-heading text-xl font-semibold mb-2\">\n                    {account.role}\n                  </h3>\n                  \n                  <p className=\"text-sm text-muted-foreground mb-4\">\n                    {account.description}\n                  </p>\n                  \n                  <div className=\"text-xs font-mono text-muted-foreground bg-muted px-3 py-2 rounded-lg\">\n                    {account.email}\n                  </div>\n                </Card>\n              );\n            })}\n          </div>\n\n          <p className=\"text-center text-sm text-muted-foreground mt-8\">\n            Click on any demo account card or the \"Get Started\" button to log in.\n            <br />\n            All demo accounts are pre-populated with sample data.\n          </p>\n        </div>\n\n        {/* Features Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto mt-16\">\n          {[\n            { title: \"AI CareerBot\", desc: \"Personalized career guidance\", icon: Sparkles },\n            { title: \"Gamification\", desc: \"Badges, points & leaderboards\", icon: Trophy },\n            { title: \"Social Feed\", desc: \"Connect with peers\", icon: Users },\n            { title: \"Analytics\", desc: \"Track engagement & growth\", icon: Zap },\n          ].map((feature) => {\n            const Icon = feature.icon;\n            return (\n              <Card key={feature.title} className=\"p-6 text-center\">\n                <div className=\"h-12 w-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center mx-auto mb-4\">\n                  <Icon className=\"h-6 w-6 text-white\" />\n                </div>\n                <h3 className=\"font-semibold mb-2\">{feature.title}</h3>\n                <p className=\"text-sm text-muted-foreground\">{feature.desc}</p>\n              </Card>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":5705},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/CreatePostModal.tsx":{"content":"import {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { useState, useEffect } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { ImagePlus } from \"lucide-react\";\n\ninterface CreatePostModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  initialContent?: string;\n  initialCategory?: string;\n  initialTags?: string;\n}\n\nexport function CreatePostModal({ \n  open, \n  onOpenChange,\n  initialContent = \"\",\n  initialCategory = \"social\",\n  initialTags = \"\"\n}: CreatePostModalProps) {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [content, setContent] = useState(initialContent);\n  const [category, setCategory] = useState(initialCategory);\n  const [tags, setTags] = useState(initialTags);\n\n  useEffect(() => {\n    if (open) {\n      setContent(initialContent);\n      setCategory(initialCategory);\n      setTags(initialTags);\n    }\n  }, [open, initialContent, initialCategory, initialTags]);\n\n  const createPostMutation = useMutation({\n    mutationFn: async () => {\n      // First moderate the content\n      const moderationResponse = await fetch(\"/api/ai/moderate-content\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ content }),\n      });\n\n      if (!moderationResponse.ok) {\n        const moderation = { approved: true, reason: \"Moderation unavailable\" };\n      } else {\n        const moderation = await moderationResponse.json() as { approved: boolean; reason: string; confidence: number };\n        \n        if (!moderation.approved) {\n          throw new Error(moderation.reason || \"Your post contains content that doesn't meet our community guidelines.\");\n        }\n      }\n\n      // If moderation passes, create the post\n      return apiRequest(\"POST\", \"/api/posts\", {\n        content,\n        category,\n        tags: tags.split(\",\").map((t) => t.trim()).filter(Boolean),\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/posts\"] });\n      toast({ title: \"Post created successfully!\" });\n      setContent(\"\");\n      setCategory(\"social\");\n      setTags(\"\");\n      onOpenChange(false);\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Failed to create post\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle className=\"font-heading text-2xl\">Create a Post</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"category\">Category</Label>\n            <Select value={category} onValueChange={setCategory}>\n              <SelectTrigger id=\"category\" data-testid=\"select-category\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"academic\">Academic</SelectItem>\n                <SelectItem value=\"social\">Social</SelectItem>\n                <SelectItem value=\"project\">Project</SelectItem>\n                <SelectItem value=\"achievement\">Achievement</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div>\n            <Label htmlFor=\"content\">What's on your mind?</Label>\n            <Textarea\n              id=\"content\"\n              placeholder=\"Share your thoughts, achievements, or ask questions...\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              className=\"min-h-[150px]\"\n              data-testid=\"textarea-content\"\n            />\n          </div>\n\n          <div>\n            <Label htmlFor=\"tags\">Tags (comma-separated)</Label>\n            <Input\n              id=\"tags\"\n              placeholder=\"e.g., javascript, react, webdev\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              data-testid=\"input-tags\"\n            />\n          </div>\n\n          <div className=\"flex gap-3\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"gap-2\"\n              disabled\n              data-testid=\"button-add-image\"\n            >\n              <ImagePlus className=\"h-4 w-4\" />\n              Add Image (Coming Soon)\n            </Button>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-4 border-t\">\n            <Button\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              data-testid=\"button-cancel\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={() => createPostMutation.mutate()}\n              disabled={!content.trim() || createPostMutation.isPending}\n              className=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700\"\n              data-testid=\"button-submit\"\n            >\n              {createPostMutation.isPending ? \"Posting...\" : \"Post\"}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":5654},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"server/firebaseAuth.ts":{"content":"import type { Express, Request, Response, NextFunction } from \"express\";\nimport admin from \"firebase-admin\";\nimport { storage } from \"./storage\";\n\nlet firebaseAdmin: admin.app.App | null = null;\n\ntry {\n  const serviceAccount = require(\"../serviceAccountKey.json\");\n  firebaseAdmin = admin.initializeApp({\n    credential: admin.credential.cert(serviceAccount),\n  });\n  console.log(\"Firebase Admin initialized successfully\");\n} catch (error) {\n  console.warn(\"Firebase Admin SDK not configured. Using fallback auth for development.\");\n}\n\nexport interface AuthRequest extends Request {\n  user?: {\n    id: string;\n    email: string;\n    role: string;\n    firstName: string;\n    lastName: string;\n    major?: string;\n    university?: string;\n    company?: string;\n    bio?: string;\n    avatarUrl?: string;\n    engagementScore: number;\n    problemSolverScore: number;\n    endorsementScore: number;\n  };\n}\n\ndeclare global {\n  namespace Express {\n    interface Request {\n      user?: AuthRequest[\"user\"];\n    }\n  }\n}\n\nexport async function setupAuth(app: Express): Promise<void> {\n  console.log(\"Firebase authentication middleware ready\");\n}\n\nexport const verifyToken = async (\n  req: AuthRequest,\n  res: Response,\n  next: NextFunction\n) => {\n  const authHeader = req.headers.authorization;\n\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    return res.status(401).json({ message: 'Unauthorized: No token provided' });\n  }\n\n  const token = authHeader.split('Bearer ')[1];\n\n  try {\n    if (!firebaseAdmin) {\n      return res.status(503).json({ message: 'Authentication service not configured' });\n    }\n\n    const decodedToken = await admin.auth().verifyIdToken(token);\n    \n    req.user = {\n      id: decodedToken.uid,\n      email: decodedToken.email || '',\n      role: 'student',\n      firstName: '',\n      lastName: '',\n      engagementScore: 0,\n      problemSolverScore: 0,\n      endorsementScore: 0,\n    };\n\n    const user = await storage.getUserByFirebaseUid(decodedToken.uid);\n    \n    if (user) {\n      req.user = {\n        id: user.id,\n        email: user.email || '',\n        role: user.role,\n        firstName: user.firstName || '',\n        lastName: user.lastName || '',\n        major: user.major || undefined,\n        university: user.university || undefined,\n        company: user.company || undefined,\n        bio: user.bio || undefined,\n        avatarUrl: user.profileImageUrl || undefined,\n        engagementScore: user.engagementScore,\n        problemSolverScore: user.problemSolverScore,\n        endorsementScore: user.endorsementScore,\n      };\n    }\n\n    next();\n  } catch (error) {\n    console.error('Token verification error:', error);\n    return res.status(403).json({ message: 'Forbidden: Invalid token' });\n  }\n};\n\nexport const isAuthenticated = verifyToken;\n","size_bytes":2788},"client/src/pages/MasterAdminDashboard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { User, Post } from \"@shared/schema\";\nimport { Users, FileText, Shield, TrendingUp, AlertTriangle, CheckCircle } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { UserAvatar } from \"@/components/UserAvatar\";\n\nexport default function MasterAdminDashboard() {\n  const { data: users = [] } = useQuery<User[]>({\n    queryKey: [\"/api/admin/users\"],\n  });\n\n  const { data: posts = [] } = useQuery<Post[]>({\n    queryKey: [\"/api/admin/posts\"],\n  });\n\n  const roleStats = {\n    student: users.filter(u => u.role === 'student').length,\n    teacher: users.filter(u => u.role === 'teacher').length,\n    university_admin: users.filter(u => u.role === 'university_admin').length,\n    industry_partner: users.filter(u => u.role === 'industry_partner').length,\n    master_admin: users.filter(u => u.role === 'master_admin').length,\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-7xl\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-heading text-3xl font-bold mb-2\">Master Admin Dashboard</h1>\n        <p className=\"text-muted-foreground\">\n          Full platform control and moderation\n        </p>\n      </div>\n\n      {/* Overview Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Total Users</p>\n              <p className=\"text-3xl font-bold\">{users.length}</p>\n            </div>\n            <Users className=\"h-8 w-8 text-primary\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Total Posts</p>\n              <p className=\"text-3xl font-bold\">{posts.length}</p>\n            </div>\n            <FileText className=\"h-8 w-8 text-blue-600\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Flagged Content</p>\n              <p className=\"text-3xl font-bold\">0</p>\n            </div>\n            <AlertTriangle className=\"h-8 w-8 text-yellow-600\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">System Health</p>\n              <p className=\"text-3xl font-bold\">\n                <CheckCircle className=\"h-8 w-8 text-green-600 inline\" />\n              </p>\n            </div>\n            <Shield className=\"h-8 w-8 text-green-600\" />\n          </div>\n        </Card>\n      </div>\n\n      <Tabs defaultValue=\"users\" className=\"space-y-6\">\n        <TabsList>\n          <TabsTrigger value=\"users\" data-testid=\"tab-users\">User Management</TabsTrigger>\n          <TabsTrigger value=\"content\" data-testid=\"tab-content\">Content Moderation</TabsTrigger>\n          <TabsTrigger value=\"analytics\" data-testid=\"tab-analytics\">Analytics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"users\">\n          <Card className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"font-heading font-semibold text-lg\">User Distribution by Role</h3>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\n              <Card className=\"p-4 text-center\">\n                <div className=\"text-2xl font-bold\">{roleStats.student}</div>\n                <div className=\"text-sm text-muted-foreground\">Students</div>\n              </Card>\n              <Card className=\"p-4 text-center\">\n                <div className=\"text-2xl font-bold\">{roleStats.teacher}</div>\n                <div className=\"text-sm text-muted-foreground\">Teachers</div>\n              </Card>\n              <Card className=\"p-4 text-center\">\n                <div className=\"text-2xl font-bold\">{roleStats.university_admin}</div>\n                <div className=\"text-sm text-muted-foreground\">Uni Admins</div>\n              </Card>\n              <Card className=\"p-4 text-center\">\n                <div className=\"text-2xl font-bold\">{roleStats.industry_partner}</div>\n                <div className=\"text-sm text-muted-foreground\">Industry</div>\n              </Card>\n              <Card className=\"p-4 text-center\">\n                <div className=\"text-2xl font-bold\">{roleStats.master_admin}</div>\n                <div className=\"text-sm text-muted-foreground\">Admins</div>\n              </Card>\n            </div>\n\n            <div className=\"space-y-2\">\n              {users.slice(0, 10).map((user) => (\n                <div\n                  key={user.id}\n                  className=\"flex items-center justify-between p-3 border rounded-lg hover-elevate\"\n                  data-testid={`admin-user-${user.id}`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <UserAvatar user={user} size=\"sm\" />\n                    <div>\n                      <div className=\"font-medium\">\n                        {user.firstName} {user.lastName}\n                      </div>\n                      <div className=\"text-sm text-muted-foreground\">{user.email}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Badge variant=\"secondary\" className=\"capitalize\">\n                      {user.role.replace('_', ' ')}\n                    </Badge>\n                    <Button size=\"sm\" variant=\"outline\" data-testid={`button-manage-${user.id}`}>\n                      Manage\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"content\">\n          <Card className=\"p-6\">\n            <h3 className=\"font-heading font-semibold text-lg mb-4\">Recent Posts</h3>\n            <div className=\"space-y-3\">\n              {posts.slice(0, 10).map((post) => (\n                <div\n                  key={post.id}\n                  className=\"border rounded-lg p-4 hover-elevate\"\n                  data-testid={`admin-post-${post.id}`}\n                >\n                  <p className=\"line-clamp-2 mb-2\">{post.content}</p>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"text-xs text-muted-foreground\">\n                      {post.category && (\n                        <Badge variant=\"secondary\" className=\"capitalize mr-2\">\n                          {post.category}\n                        </Badge>\n                      )}\n                      {post.viewCount} views\n                    </div>\n                    <Button size=\"sm\" variant=\"outline\" data-testid={`button-review-${post.id}`}>\n                      Review\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"analytics\">\n          <Card className=\"p-6\">\n            <h3 className=\"font-heading font-semibold text-lg mb-4\">Platform Analytics</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div>\n                <div className=\"text-sm text-muted-foreground mb-1\">Avg Engagement Score</div>\n                <div className=\"text-2xl font-bold\">\n                  {Math.round(users.reduce((sum, u) => sum + (u.engagementScore || 0), 0) / users.length) || 0}\n                </div>\n              </div>\n              <div>\n                <div className=\"text-sm text-muted-foreground mb-1\">Active Users (30d)</div>\n                <div className=\"text-2xl font-bold\">{users.filter(u => (u.engagementScore || 0) > 0).length}</div>\n              </div>\n              <div>\n                <div className=\"text-sm text-muted-foreground mb-1\">Content Created</div>\n                <div className=\"text-2xl font-bold\">{posts.length}</div>\n              </div>\n            </div>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":8492},"design_guidelines.md":{"content":"# UniNexus Design Guidelines\n\n## Design Approach: Reference-Based with Custom Gen Z Aesthetic\n\n**Primary References:**\n- **Social/Feed Patterns:** Instagram (card layouts, reactions), Discord (community channels)\n- **Gamification:** Duolingo (achievement animations, streaks), LinkedIn (skill endorsements)\n- **Dashboard Analytics:** Linear (clean metrics), Notion (flexible card layouts)\n- **Career Features:** LinkedIn (professional profiles), Wellfound (talent matching)\n\n**Custom Differentiation:** Vibrant Gen Z energy with neon gradients and playful professionalism\n\n## Core Design Elements\n\n### A. Typography\n**Font Families:**\n- Primary: Poppins (headings, emphasis, bold statements)\n- Secondary: Inter (body text, UI elements, data)\n\n**Scale & Hierarchy:**\n- Hero/Display: text-5xl to text-6xl, font-bold (Poppins)\n- Section Headers: text-3xl to text-4xl, font-semibold (Poppins)\n- Card Titles: text-xl to text-2xl, font-semibold (Poppins)\n- Body Text: text-base to text-lg, font-normal (Inter)\n- Captions/Meta: text-sm, font-medium (Inter)\n- Micro Text: text-xs (badges, timestamps)\n\n### B. Layout System\n**Spacing Primitives:** Use Tailwind units of 2, 4, 6, 8, 12, 16\n- Compact spacing: p-2, m-2, gap-2 (tight UI elements)\n- Standard spacing: p-4, m-4, gap-4 (cards, buttons)\n- Section padding: p-8, py-12, py-16 (major sections)\n- Large margins: m-12, m-16 (page-level separation)\n\n**Container Strategy:**\n- Max widths: max-w-7xl (dashboards), max-w-4xl (feeds), max-w-2xl (forms)\n- Grid patterns: grid-cols-1 md:grid-cols-2 lg:grid-cols-3 (responsive cards)\n- Flex layouts: flex flex-col md:flex-row gap-4 (adaptive layouts)\n\n### C. Component Library\n\n**Navigation:**\n- Top navbar: Fixed position with gradient background, glass morphism effect (backdrop-blur)\n- Role switcher: Prominent pill-style selector in navbar\n- Sidebar (dashboards): Collapsible on mobile, always visible on desktop with icon + text navigation\n- Bottom nav (mobile): Fixed tab bar for primary Student interface actions\n\n**Cards & Containers:**\n- Social posts: Rounded-lg with soft shadow, hover lift effect\n- Profile cards: Rounded-xl with gradient border accent\n- Stats/metrics cards: Grid layout with icon, number, label pattern\n- Achievement badges: Circular or shield-shaped with glow effects\n\n**Feed Components:**\n- Post card: Avatar, username, timestamp, content, image preview, reaction bar, comment section\n- Comment thread: Nested indentation with connecting lines\n- Reaction bar: Horizontal pill buttons with counts (like, celebrate, insightful)\n\n**Gamification Elements:**\n- Badge showcase: Masonry grid or horizontal scroll of earned badges with tooltips\n- Progress bars: Gradient-filled with rounded ends and percentage labels\n- Leaderboard rows: Rank number, avatar, name, score, trend indicator\n- Achievement unlock: Modal with animated badge reveal and confetti effect\n\n**Forms & Inputs:**\n- Text inputs: Rounded borders with focus gradient glow\n- Textareas: Auto-expanding for post creation\n- File upload: Drag-and-drop zone with preview thumbnails\n- Select dropdowns: Custom styled with rounded corners\n\n**Buttons:**\n- Primary CTA: Gradient background (purple to pink), rounded-lg, font-semibold\n- Secondary: Outlined with gradient border, transparent background\n- Ghost: Text only with hover background\n- Icon buttons: Circular with subtle background\n\n**Modals & Overlays:**\n- Modal backdrop: Dark overlay with blur\n- Modal content: Centered, rounded-xl, max-width constraint\n- Notification toasts: Top-right positioned, slide-in animation\n\n**AI ChatBot:**\n- Fixed bottom-right floating button with gradient and pulse animation\n- Expandable chat panel: Rounded top corners, message bubbles (user vs bot styling)\n- Typing indicator: Animated dots\n\n**Data Visualization:**\n- Line charts: Gradient fill under curves\n- Bar charts: Rounded corners on bars with gradient fills\n- Donut charts: Center metric display\n- Trend indicators: Arrow icons with color coding\n\n### D. Animations\nUse sparingly and purposefully:\n- **Page transitions:** Fade-in on route changes\n- **Card hover:** Subtle lift (translateY(-4px)) with shadow increase\n- **Badge unlock:** Scale-up with rotation and glow pulse\n- **Notifications:** Slide-in from right with bounce\n- **Loading states:** Skeleton screens with shimmer effect\n- **Button interactions:** Scale on press (scale-95)\n- **Leaderboard updates:** Highlight flash for rank changes\n\n**Animation Timing:**\n- Micro-interactions: 150-200ms\n- Standard transitions: 300ms\n- Complex reveals: 500ms\n- Use ease-in-out for natural feel\n\n## Role-Specific UI Considerations\n\n**Student Interface:**\n- Emphasis on social feed as landing page\n- Floating action button for quick post creation\n- Prominent badge display in profile header\n- Gamification elements front and center\n\n**Teacher Dashboard:**\n- Clean, professional layout with data tables\n- Student grid view with quick endorsement actions\n- Analytics charts for class engagement\n- Endorsement workflow modals\n\n**University Admin:**\n- Executive dashboard with key metrics in hero section\n- Institutional branding integration area\n- Announcement creation with rich text editor\n- Multi-chart analytics views\n\n**Industry Partner:**\n- Talent discovery with filterable student cards\n- Challenge creation wizard interface\n- Company profile showcase section\n- Project review interface with rating system\n\n**Master Admin:**\n- Dense information layout with tabbed navigation\n- User management table with bulk actions\n- System health monitoring dashboard\n- Content moderation queue with action buttons\n\n## Images\n\n**Student Profile Hero:** Abstract geometric patterns with neon gradient overlays (decorative, not photographic)\n\n**Landing Page Hero:** Vibrant illustration of diverse students collaborating with floating UI elements (cards, badges, chat bubbles) in purple-blue-pink gradient environment\n\n**Industry Partner Profiles:** Company logo placeholders with gradient backgrounds\n\n**Achievement Badges:** Custom SVG icons with glow effects (trophy, star, shield, lightning bolt designs)\n\n**Empty States:** Playful illustrations with encouraging messaging (e.g., \"No posts yet - be the first to share!\")\n\n**Course Thumbnails:** Abstract subject-themed icons on gradient backgrounds (no photography needed)\n\nAll images should support the vibrant, energetic Gen Z aesthetic without being photorealistic - lean into illustrations, abstract shapes, and gradient treatments.","size_bytes":6447},"client/src/hooks/useAuth.ts":{"content":"// This file is deprecated - use AuthContext from @/lib/AuthContext instead\n// Forwarding to new context for backwards compatibility\nexport { useAuth } from \"@/lib/AuthContext\";\n","size_bytes":178},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/pages/Login.tsx":{"content":"import { useState } from 'react';\nimport { useAuth } from '@/lib/AuthContext';\nimport { Link, useLocation } from 'wouter';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Chrome } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\n\nconst loginSchema = z.object({\n  email: z.string().email('Please enter a valid email'),\n  password: z.string().min(6, 'Password must be at least 6 characters'),\n});\n\ntype LoginFormData = z.infer<typeof loginSchema>;\n\nexport default function Login() {\n  const { signIn, signInWithGoogle } = useAuth();\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const form = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: '',\n      password: '',\n    },\n  });\n\n  const onSubmit = async (data: LoginFormData) => {\n    setIsLoading(true);\n    try {\n      await signIn(data.email, data.password);\n      toast({\n        title: 'Welcome back!',\n        description: 'You have successfully logged in.',\n      });\n      navigate('/');\n    } catch (error: any) {\n      toast({\n        title: 'Login failed',\n        description: error.message || 'Please check your credentials and try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    setIsLoading(true);\n    try {\n      await signInWithGoogle();\n      toast({\n        title: 'Welcome!',\n        description: 'You have successfully logged in with Google.',\n      });\n      navigate('/');\n    } catch (error: any) {\n      toast({\n        title: 'Google login failed',\n        description: error.message || 'Please try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"gap-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"h-8 w-8 rounded-md bg-gradient-to-br from-purple-500 to-pink-500\" />\n            <CardTitle className=\"text-2xl\">UniNexus</CardTitle>\n          </div>\n          <CardDescription>Sign in to your account to continue</CardDescription>\n        </CardHeader>\n        <CardContent className=\"gap-4 flex flex-col\">\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"gap-4 flex flex-col\">\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Email</FormLabel>\n                    <FormControl>\n                      <Input \n                        placeholder=\"your.email@university.edu\" \n                        type=\"email\"\n                        data-testid=\"input-email\"\n                        {...field} \n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Password</FormLabel>\n                    <FormControl>\n                      <Input \n                        placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" \n                        type=\"password\"\n                        data-testid=\"input-password\"\n                        {...field} \n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <Button \n                type=\"submit\" \n                className=\"w-full\"\n                disabled={isLoading}\n                data-testid=\"button-login\"\n              >\n                {isLoading ? 'Signing in...' : 'Sign In'}\n              </Button>\n            </form>\n          </Form>\n\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 flex items-center\">\n              <span className=\"w-full border-t\" />\n            </div>\n            <div className=\"relative flex justify-center text-xs uppercase\">\n              <span className=\"bg-card px-2 text-muted-foreground\">Or continue with</span>\n            </div>\n          </div>\n\n          <Button\n            variant=\"outline\"\n            onClick={handleGoogleSignIn}\n            disabled={isLoading}\n            className=\"w-full gap-2\"\n            data-testid=\"button-google-login\"\n          >\n            <Chrome className=\"h-4 w-4\" />\n            Sign in with Google\n          </Button>\n\n          <div className=\"text-center text-sm text-muted-foreground\">\n            Don't have an account?{' '}\n            <Link href=\"/register\">\n              <a className=\"text-primary hover:underline\" data-testid=\"link-register\">\n                Sign up\n              </a>\n            </Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":5567},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/pages/IndustryDashboard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { User } from \"@shared/schema\";\nimport { UserAvatar } from \"@/components/UserAvatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Search, Briefcase, Users, Trophy, Plus } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport default function IndustryDashboard() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [skillFilter, setSkillFilter] = useState(\"\");\n\n  const { data: students = [] } = useQuery<User[]>({\n    queryKey: [\"/api/students\"],\n  });\n\n  const filteredStudents = students\n    .filter(s => {\n      const searchLower = searchTerm.toLowerCase();\n      return (\n        s.firstName?.toLowerCase().includes(searchLower) ||\n        s.lastName?.toLowerCase().includes(searchLower) ||\n        s.major?.toLowerCase().includes(searchLower)\n      );\n    })\n    .sort((a, b) => (b.engagementScore || 0) - (a.engagementScore || 0));\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-7xl\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-heading text-3xl font-bold mb-2\">Industry Partner Dashboard</h1>\n        <p className=\"text-muted-foreground\">\n          Discover talented students and create challenges\n        </p>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Available Talent</p>\n              <p className=\"text-3xl font-bold\">{students.length}</p>\n            </div>\n            <Users className=\"h-8 w-8 text-primary\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Active Challenges</p>\n              <p className=\"text-3xl font-bold\">3</p>\n            </div>\n            <Trophy className=\"h-8 w-8 text-yellow-600\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Applications</p>\n              <p className=\"text-3xl font-bold\">42</p>\n            </div>\n            <Briefcase className=\"h-8 w-8 text-blue-600\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6 bg-gradient-to-br from-purple-600 to-pink-600 text-white\">\n          <Button\n            className=\"w-full bg-white/20 hover:bg-white/30 text-white\"\n            size=\"lg\"\n            data-testid=\"button-create-challenge\"\n          >\n            <Plus className=\"mr-2 h-5 w-5\" />\n            Create Challenge\n          </Button>\n        </Card>\n      </div>\n\n      {/* Talent Discovery */}\n      <Card className=\"p-6\">\n        <div className=\"flex items-center gap-4 mb-6\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search by name, major, or skills...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n                data-testid=\"input-search-talent\"\n              />\n            </div>\n          </div>\n          <Button variant=\"outline\" data-testid=\"button-filter\">\n            <Trophy className=\"mr-2 h-4 w-4\" />\n            Top Performers\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {filteredStudents.map((student) => (\n            <Card\n              key={student.id}\n              className=\"p-5 hover-elevate active-elevate-2 cursor-pointer\"\n              data-testid={`talent-${student.id}`}\n            >\n              <div className=\"flex items-start gap-4\">\n                <UserAvatar user={student} size=\"lg\" />\n                <div className=\"flex-1\">\n                  <div className=\"flex items-start justify-between\">\n                    <div>\n                      <h3 className=\"font-semibold text-lg\">\n                        {student.firstName} {student.lastName}\n                      </h3>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {student.major || \"No major specified\"}\n                      </p>\n                      {student.university && (\n                        <p className=\"text-xs text-muted-foreground\">\n                          {student.university}\n                        </p>\n                      )}\n                    </div>\n                    <Button size=\"sm\" variant=\"outline\" data-testid={`button-view-${student.id}`}>\n                      View Profile\n                    </Button>\n                  </div>\n\n                  {student.bio && (\n                    <p className=\"text-sm mt-2 line-clamp-2\">{student.bio}</p>\n                  )}\n\n                  <div className=\"flex gap-2 mt-3 flex-wrap\">\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      Engagement: {student.engagementScore || 0}\n                    </Badge>\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      Problem Solver: {student.problemSolverScore || 0}\n                    </Badge>\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {student.endorsementScore || 0} Endorsements\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          ))}\n\n          {filteredStudents.length === 0 && (\n            <div className=\"col-span-full text-center py-12 text-muted-foreground\">\n              No students found matching your search\n            </div>\n          )}\n        </div>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":6114},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/PostCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { UserAvatar } from \"./UserAvatar\";\nimport { Heart, MessageCircle, Share2, ThumbsUp, Lightbulb, Handshake } from \"lucide-react\";\nimport type { Post, User, Comment, Reaction } from \"@shared/schema\";\nimport { useState } from \"react\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ntype PostWithAuthor = Post & {\n  author: User;\n  comments: Comment[];\n  reactions: Reaction[];\n};\n\ninterface PostCardProps {\n  post: PostWithAuthor;\n}\n\nconst reactionTypes = [\n  { type: \"like\", icon: ThumbsUp, label: \"Like\" },\n  { type: \"celebrate\", icon: Heart, label: \"Celebrate\" },\n  { type: \"insightful\", icon: Lightbulb, label: \"Insightful\" },\n  { type: \"support\", icon: Handshake, label: \"Support\" },\n];\n\nexport function PostCard({ post }: PostCardProps) {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [showComments, setShowComments] = useState(false);\n  const [commentText, setCommentText] = useState(\"\");\n\n  const reactionMutation = useMutation({\n    mutationFn: async (type: string) => {\n      return apiRequest(\"POST\", \"/api/reactions\", { postId: post.id, type });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/posts\"] });\n    },\n  });\n\n  const commentMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest(\"POST\", \"/api/comments\", {\n        postId: post.id,\n        content: commentText,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/posts\"] });\n      setCommentText(\"\");\n      toast({ title: \"Comment posted!\" });\n    },\n  });\n\n  const handleReaction = (type: string) => {\n    const existingReaction = post.reactions.find(\n      (r) => r.userId === user?.id && r.type === type\n    );\n    \n    if (!existingReaction) {\n      reactionMutation.mutate(type);\n    }\n  };\n\n  const getReactionCount = (type: string) => {\n    return post.reactions.filter((r) => r.type === type).length;\n  };\n\n  const hasUserReacted = (type: string) => {\n    return post.reactions.some((r) => r.userId === user?.id && r.type === type);\n  };\n\n  return (\n    <Card className=\"p-6\" data-testid={`post-${post.id}`}>\n      {/* Post Header */}\n      <div className=\"flex gap-3 mb-4\">\n        <UserAvatar user={post.author} size=\"md\" />\n        <div className=\"flex-1\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-semibold\">\n              {post.author.firstName} {post.author.lastName}\n            </span>\n            {post.author.role === 'student' && post.author.major && (\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                {post.author.major}\n              </Badge>\n            )}\n          </div>\n          <div className=\"text-sm text-muted-foreground\">\n            {post.createdAt && formatDistanceToNow(new Date(post.createdAt), { addSuffix: true })}\n            {post.category && (\n              <>\n                {\" Â· \"}\n                <span className=\"capitalize\">{post.category}</span>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Post Content */}\n      <div className=\"mb-4\">\n        <p className=\"text-base leading-relaxed whitespace-pre-wrap\">{post.content}</p>\n        {post.imageUrl && (\n          <img\n            src={post.imageUrl}\n            alt=\"Post image\"\n            className=\"mt-4 rounded-lg w-full object-cover max-h-96\"\n          />\n        )}\n        {post.tags && post.tags.length > 0 && (\n          <div className=\"flex gap-2 mt-3 flex-wrap\">\n            {post.tags.map((tag) => (\n              <Badge key={tag} variant=\"outline\" className=\"text-xs\">\n                #{tag}\n              </Badge>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Reaction Bar */}\n      <div className=\"flex items-center gap-1 mb-4 flex-wrap\">\n        {reactionTypes.map(({ type, icon: Icon, label }) => {\n          const count = getReactionCount(type);\n          const isActive = hasUserReacted(type);\n          \n          return (\n            <Button\n              key={type}\n              variant={isActive ? \"default\" : \"ghost\"}\n              size=\"sm\"\n              onClick={() => handleReaction(type)}\n              className={`gap-1 ${isActive ? 'bg-primary/10 text-primary' : ''}`}\n              data-testid={`button-react-${type}`}\n            >\n              <Icon className=\"h-4 w-4\" />\n              {count > 0 && <span className=\"text-xs\">{count}</span>}\n            </Button>\n          );\n        })}\n        \n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => setShowComments(!showComments)}\n          className=\"gap-1 ml-auto\"\n          data-testid=\"button-toggle-comments\"\n        >\n          <MessageCircle className=\"h-4 w-4\" />\n          {post.comments.length > 0 && <span className=\"text-xs\">{post.comments.length}</span>}\n        </Button>\n      </div>\n\n      {/* Comments Section */}\n      {showComments && (\n        <div className=\"border-t pt-4 space-y-4\">\n          {/* Add Comment */}\n          <div className=\"flex gap-3\">\n            <UserAvatar user={user!} size=\"sm\" />\n            <div className=\"flex-1\">\n              <Textarea\n                placeholder=\"Write a comment...\"\n                value={commentText}\n                onChange={(e) => setCommentText(e.target.value)}\n                className=\"min-h-[60px]\"\n                data-testid=\"input-comment\"\n              />\n              <Button\n                onClick={() => commentMutation.mutate()}\n                disabled={!commentText.trim() || commentMutation.isPending}\n                size=\"sm\"\n                className=\"mt-2\"\n                data-testid=\"button-submit-comment\"\n              >\n                {commentMutation.isPending ? \"Posting...\" : \"Post Comment\"}\n              </Button>\n            </div>\n          </div>\n\n          {/* Comments List */}\n          {post.comments.length > 0 && (\n            <div className=\"space-y-3\">\n              {post.comments.map((comment) => (\n                <div key={comment.id} className=\"flex gap-3\" data-testid={`comment-${comment.id}`}>\n                  <UserAvatar user={comment.author} size=\"sm\" />\n                  <div className=\"flex-1 bg-muted rounded-lg p-3\">\n                    <div className=\"font-medium text-sm mb-1\">\n                      {comment.author.firstName} {comment.author.lastName}\n                    </div>\n                    <p className=\"text-sm\">{comment.content}</p>\n                    <div className=\"text-xs text-muted-foreground mt-1\">\n                      {comment.createdAt && formatDistanceToNow(new Date(comment.createdAt), { addSuffix: true })}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </Card>\n  );\n}\n","size_bytes":7253},"server/storage.ts":{"content":"import {\n  users,\n  type User,\n  type UpsertUser,\n  courses,\n  type Course,\n  courseDiscussions,\n  type CourseDiscussion,\n  type InsertCourseDiscussion,\n  discussionReplies,\n  type DiscussionReply,\n  type InsertDiscussionReply,\n  discussionUpvotes,\n  type DiscussionUpvote,\n  type InsertDiscussionUpvote,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, and, sql } from \"drizzle-orm\";\n\n// Interface for storage operations\nexport interface IStorage {\n  // User operations (Firebase Auth)\n  getUser(id: string): Promise<User | undefined>;\n  getUserByFirebaseUid(firebaseUid: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  createUserFromFirebase(firebaseUid: string, userData: Partial<UpsertUser>): Promise<User>;\n  \n  // Course Forum operations\n  getCourses(): Promise<Course[]>;\n  getCourse(id: string): Promise<Course | undefined>;\n  getDiscussions(courseId: string): Promise<CourseDiscussion[]>;\n  getDiscussion(id: string): Promise<CourseDiscussion | undefined>;\n  createDiscussion(discussion: InsertCourseDiscussion): Promise<CourseDiscussion>;\n  getReplies(discussionId: string): Promise<DiscussionReply[]>;\n  createReply(reply: InsertDiscussionReply): Promise<DiscussionReply>;\n  toggleDiscussionUpvote(userId: string, discussionId: string): Promise<boolean>;\n  toggleReplyUpvote(userId: string, replyId: string): Promise<boolean>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async getUserByFirebaseUid(firebaseUid: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.firebaseUid, firebaseUid));\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async createUserFromFirebase(firebaseUid: string, userData: Partial<UpsertUser>): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values({\n        firebaseUid,\n        ...userData,\n      })\n      .onConflictDoUpdate({\n        target: users.firebaseUid,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async getCourses(): Promise<Course[]> {\n    return await db.select().from(courses).orderBy(desc(courses.createdAt));\n  }\n\n  async getCourse(id: string): Promise<Course | undefined> {\n    const [course] = await db.select().from(courses).where(eq(courses.id, id));\n    return course;\n  }\n\n  async getDiscussions(courseId: string): Promise<CourseDiscussion[]> {\n    return await db\n      .select()\n      .from(courseDiscussions)\n      .where(eq(courseDiscussions.courseId, courseId))\n      .orderBy(desc(courseDiscussions.createdAt));\n  }\n\n  async getDiscussion(id: string): Promise<CourseDiscussion | undefined> {\n    const [discussion] = await db\n      .select()\n      .from(courseDiscussions)\n      .where(eq(courseDiscussions.id, id));\n    return discussion;\n  }\n\n  async createDiscussion(discussion: InsertCourseDiscussion): Promise<CourseDiscussion> {\n    const [newDiscussion] = await db\n      .insert(courseDiscussions)\n      .values(discussion)\n      .returning();\n    return newDiscussion;\n  }\n\n  async getReplies(discussionId: string): Promise<DiscussionReply[]> {\n    return await db\n      .select()\n      .from(discussionReplies)\n      .where(eq(discussionReplies.discussionId, discussionId))\n      .orderBy(desc(discussionReplies.upvoteCount), desc(discussionReplies.createdAt));\n  }\n\n  async createReply(reply: InsertDiscussionReply): Promise<DiscussionReply> {\n    const [newReply] = await db\n      .insert(discussionReplies)\n      .values(reply)\n      .returning();\n    \n    // Increment reply count\n    await db\n      .update(courseDiscussions)\n      .set({ replyCount: sql`${courseDiscussions.replyCount} + 1` })\n      .where(eq(courseDiscussions.id, reply.discussionId));\n    \n    return newReply;\n  }\n\n  async toggleDiscussionUpvote(userId: string, discussionId: string): Promise<boolean> {\n    return await db.transaction(async (tx) => {\n      const [existingUpvote] = await tx\n        .select()\n        .from(discussionUpvotes)\n        .where(\n          and(\n            eq(discussionUpvotes.userId, userId),\n            eq(discussionUpvotes.discussionId, discussionId)\n          )\n        );\n\n      if (existingUpvote) {\n        const deleted = await tx\n          .delete(discussionUpvotes)\n          .where(eq(discussionUpvotes.id, existingUpvote.id));\n        \n        // Only decrement if delete actually happened\n        if (deleted.rowCount && deleted.rowCount > 0) {\n          await tx\n            .update(courseDiscussions)\n            .set({ upvoteCount: sql`GREATEST(${courseDiscussions.upvoteCount} - 1, 0)` })\n            .where(eq(courseDiscussions.id, discussionId));\n        }\n        \n        return false;\n      } else {\n        try {\n          await tx.insert(discussionUpvotes).values({\n            userId,\n            discussionId,\n            replyId: null,\n          });\n          \n          await tx\n            .update(courseDiscussions)\n            .set({ upvoteCount: sql`${courseDiscussions.upvoteCount} + 1` })\n            .where(eq(courseDiscussions.id, discussionId));\n          \n          return true;\n        } catch (error: any) {\n          // Handle unique constraint violation - treat as already upvoted\n          if (error.code === '23505') {\n            return true;\n          }\n          throw error;\n        }\n      }\n    });\n  }\n\n  async toggleReplyUpvote(userId: string, replyId: string): Promise<boolean> {\n    return await db.transaction(async (tx) => {\n      const [existingUpvote] = await tx\n        .select()\n        .from(discussionUpvotes)\n        .where(\n          and(\n            eq(discussionUpvotes.userId, userId),\n            eq(discussionUpvotes.replyId, replyId)\n          )\n        );\n\n      if (existingUpvote) {\n        const deleted = await tx\n          .delete(discussionUpvotes)\n          .where(eq(discussionUpvotes.id, existingUpvote.id));\n        \n        // Only decrement if delete actually happened\n        if (deleted.rowCount && deleted.rowCount > 0) {\n          await tx\n            .update(discussionReplies)\n            .set({ upvoteCount: sql`GREATEST(${discussionReplies.upvoteCount} - 1, 0)` })\n            .where(eq(discussionReplies.id, replyId));\n        }\n        \n        return false;\n      } else {\n        try {\n          await tx.insert(discussionUpvotes).values({\n            userId,\n            discussionId: null,\n            replyId,\n          });\n          \n          await tx\n            .update(discussionReplies)\n            .set({ upvoteCount: sql`${discussionReplies.upvoteCount} + 1` })\n            .where(eq(discussionReplies.id, replyId));\n          \n          return true;\n        } catch (error: any) {\n          // Handle unique constraint violation - treat as already upvoted\n          if (error.code === '23505') {\n            return true;\n          }\n          throw error;\n        }\n      }\n    });\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":7407},"client/src/components/UserAvatar.tsx":{"content":"import { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { User } from \"@shared/schema\";\n\ninterface UserAvatarProps {\n  user: Pick<User, \"firstName\" | \"lastName\" | \"profileImageUrl\">;\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n  className?: string;\n}\n\nexport function UserAvatar({ user, size = \"md\", className = \"\" }: UserAvatarProps) {\n  const sizeClasses = {\n    sm: \"h-8 w-8\",\n    md: \"h-10 w-10\",\n    lg: \"h-12 w-12\",\n    xl: \"h-16 w-16\",\n  };\n\n  const getInitials = () => {\n    const first = user.firstName?.charAt(0) || \"\";\n    const last = user.lastName?.charAt(0) || \"\";\n    return (first + last).toUpperCase() || \"U\";\n  };\n\n  return (\n    <Avatar className={`${sizeClasses[size]} ${className}`}>\n      <AvatarImage \n        src={user.profileImageUrl || undefined} \n        alt={`${user.firstName} ${user.lastName}`}\n        className=\"object-cover\"\n      />\n      <AvatarFallback className=\"bg-gradient-to-br from-purple-500 to-pink-500 text-white font-semibold\">\n        {getInitials()}\n      </AvatarFallback>\n    </Avatar>\n  );\n}\n","size_bytes":1063},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}\n","size_bytes":116},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/BadgeIcon.tsx":{"content":"import { \n  Trophy, \n  Star, \n  Shield, \n  Zap, \n  Award, \n  Target,\n  Flame,\n  Heart,\n  Users,\n  BookOpen,\n  Code,\n  Sparkles,\n  LucideIcon\n} from \"lucide-react\";\nimport { Badge as BadgeType } from \"@shared/schema\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\ninterface BadgeIconProps {\n  badge: BadgeType;\n  size?: \"sm\" | \"md\" | \"lg\";\n  showTooltip?: boolean;\n}\n\nconst iconMap: Record<string, LucideIcon> = {\n  trophy: Trophy,\n  star: Star,\n  shield: Shield,\n  zap: Zap,\n  award: Award,\n  target: Target,\n  flame: Flame,\n  heart: Heart,\n  users: Users,\n  book: BookOpen,\n  code: Code,\n  sparkles: Sparkles,\n};\n\nconst tierColors = {\n  bronze: \"from-amber-700 to-amber-900\",\n  silver: \"from-gray-300 to-gray-500\",\n  gold: \"from-yellow-400 to-yellow-600\",\n  platinum: \"from-purple-400 to-pink-500\",\n};\n\nexport function BadgeIcon({ badge, size = \"md\", showTooltip = true }: BadgeIconProps) {\n  const Icon = iconMap[badge.icon] || Trophy;\n  \n  const sizeClasses = {\n    sm: \"h-8 w-8 p-1.5\",\n    md: \"h-12 w-12 p-2.5\",\n    lg: \"h-16 w-16 p-3.5\",\n  };\n\n  const iconSizes = {\n    sm: 14,\n    md: 20,\n    lg: 28,\n  };\n\n  const badgeElement = (\n    <div\n      className={`\n        ${sizeClasses[size]}\n        rounded-full\n        bg-gradient-to-br ${tierColors[badge.tier as keyof typeof tierColors] || tierColors.bronze}\n        shadow-lg\n        flex items-center justify-center\n        hover:scale-110 transition-transform duration-200\n      `}\n      data-testid={`badge-${badge.id}`}\n    >\n      <Icon size={iconSizes[size]} className=\"text-white\" />\n    </div>\n  );\n\n  if (!showTooltip) {\n    return badgeElement;\n  }\n\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          {badgeElement}\n        </TooltipTrigger>\n        <TooltipContent className=\"max-w-xs\">\n          <div className=\"space-y-1\">\n            <p className=\"font-semibold text-sm\">{badge.name}</p>\n            <p className=\"text-xs text-muted-foreground\">{badge.description}</p>\n            <p className=\"text-xs text-primary font-medium capitalize\">{badge.tier} Tier</p>\n          </div>\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n}\n","size_bytes":2221},"client/src/pages/StudentHome.tsx":{"content":"import { useAuth } from \"@/hooks/useAuth\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Post, User, Comment, Reaction, UserBadge, Badge, Challenge } from \"@shared/schema\";\nimport { PostCard } from \"@/components/PostCard\";\nimport { CreatePostModal } from \"@/components/CreatePostModal\";\nimport { SuggestedPosts } from \"@/components/SuggestedPosts\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Plus, TrendingUp, Users, Target, Sparkles } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Badge as BadgePill } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { BadgeIcon } from \"@/components/BadgeIcon\";\nimport { Link } from \"wouter\";\n\ntype PostWithAuthor = Post & {\n  author: User;\n  comments: Comment[];\n  reactions: Reaction[];\n};\n\nexport default function StudentHome() {\n  const { userData: user } = useAuth();\n  const [createPostOpen, setCreatePostOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"all\");\n  const [interestFilter, setInterestFilter] = useState(false);\n  const [postInitialValues, setPostInitialValues] = useState<{ content: string; category: string; tags: string }>({ \n    content: \"\", \n    category: \"social\", \n    tags: \"\" \n  });\n\n  const { data: posts = [], isLoading } = useQuery<PostWithAuthor[]>({\n    queryKey: [\"/api/posts\", selectedCategory, interestFilter ? 'interests' : 'all', user?.id],\n    queryFn: async () => {\n      const params = new URLSearchParams({\n        category: selectedCategory,\n        ...(interestFilter && user?.id ? { filterByInterests: 'true', userId: user.id } : {})\n      });\n      const response = await fetch(`/api/posts?${params}`);\n      if (!response.ok) throw new Error('Failed to fetch posts');\n      return response.json();\n    },\n  });\n\n  const { data: userBadges = [] } = useQuery<(UserBadge & { badge: Badge })[]>({\n    queryKey: [\"/api/user-badges\", user?.id],\n    enabled: !!user,\n  });\n\n  const { data: challenges = [] } = useQuery<Challenge[]>({\n    queryKey: [\"/api/challenges\", \"active\"],\n  });\n\n  const categories = [\n    { value: \"all\", label: \"All Posts\", icon: TrendingUp },\n    { value: \"academic\", label: \"Academic\", icon: Target },\n    { value: \"social\", label: \"Social\", icon: Users },\n    { value: \"project\", label: \"Projects\", icon: Sparkles },\n  ];\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-7xl\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n        {/* Main Feed - Center Column */}\n        <div className=\"lg:col-span-8 space-y-6\">\n          {/* Welcome Card */}\n          <Card className=\"p-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white\">\n            <h2 className=\"font-heading text-2xl font-bold mb-2\">\n              Welcome back, {user?.firstName}! ðŸ‘‹\n            </h2>\n            <p className=\"text-purple-100 mb-4\">\n              You're on a {user?.streak || 0} day streak! Keep it going.\n            </p>\n            <div className=\"flex gap-3\">\n              <div className=\"bg-white/20 backdrop-blur rounded-lg px-4 py-2\">\n                <div className=\"text-2xl font-bold\">{user?.engagementScore || 0}</div>\n                <div className=\"text-xs text-purple-100\">Engagement</div>\n              </div>\n              <div className=\"bg-white/20 backdrop-blur rounded-lg px-4 py-2\">\n                <div className=\"text-2xl font-bold\">{user?.problemSolverScore || 0}</div>\n                <div className=\"text-xs text-purple-100\">Problem Solver</div>\n              </div>\n              <div className=\"bg-white/20 backdrop-blur rounded-lg px-4 py-2\">\n                <div className=\"text-2xl font-bold\">{userBadges.length}</div>\n                <div className=\"text-xs text-purple-100\">Badges</div>\n              </div>\n            </div>\n          </Card>\n\n          {/* Category Filter */}\n          <div className=\"flex gap-2 flex-wrap items-center\">\n            {categories.map((cat) => {\n              const Icon = cat.icon;\n              return (\n                <Button\n                  key={cat.value}\n                  variant={selectedCategory === cat.value ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={() => setSelectedCategory(cat.value)}\n                  className=\"gap-2\"\n                  data-testid={`filter-${cat.value}`}\n                >\n                  <Icon className=\"h-4 w-4\" />\n                  {cat.label}\n                </Button>\n              );\n            })}\n            {user?.interests && user.interests.length > 0 && (\n              <Button\n                variant={interestFilter ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setInterestFilter(!interestFilter)}\n                className=\"gap-2 ml-auto\"\n                data-testid=\"filter-interests\"\n              >\n                <Sparkles className=\"h-4 w-4\" />\n                {interestFilter ? \"Showing My Interests\" : \"Filter by Interests\"}\n              </Button>\n            )}\n          </div>\n\n          {/* Create Post Button */}\n          <Button\n            onClick={() => setCreatePostOpen(true)}\n            className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold\"\n            size=\"lg\"\n            data-testid=\"button-create-post\"\n          >\n            <Plus className=\"mr-2 h-5 w-5\" />\n            Share Something Amazing\n          </Button>\n\n          {/* Posts Feed */}\n          <div className=\"space-y-4\">\n            {isLoading ? (\n              <Card className=\"p-8 text-center\">\n                <div className=\"animate-pulse\">Loading posts...</div>\n              </Card>\n            ) : posts.length === 0 ? (\n              <Card className=\"p-12 text-center\">\n                <Sparkles className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                <h3 className=\"font-semibold text-lg mb-2\">No posts yet</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Be the first to share something with the community!\n                </p>\n                <Button onClick={() => setCreatePostOpen(true)} data-testid=\"button-create-first-post\">\n                  Create Your First Post\n                </Button>\n              </Card>\n            ) : (\n              posts.map((post) => <PostCard key={post.id} post={post} />)\n            )}\n          </div>\n        </div>\n\n        {/* Right Sidebar */}\n        <div className=\"lg:col-span-4 space-y-6\">\n          {/* Quick Stats */}\n          <Card className=\"p-6\">\n            <h3 className=\"font-heading font-semibold text-lg mb-4\">Your Progress</h3>\n            <div className=\"space-y-4\">\n              <div>\n                <div className=\"flex justify-between mb-2\">\n                  <span className=\"text-sm font-medium\">Level Progress</span>\n                  <span className=\"text-sm text-muted-foreground\">Level {Math.floor((user?.engagementScore || 0) / 100)}</span>\n                </div>\n                <Progress value={((user?.engagementScore || 0) % 100)} className=\"h-2\" />\n              </div>\n              \n              <Link href=\"/leaderboard\">\n                <a className=\"block\" data-testid=\"link-leaderboard\">\n                  <Button variant=\"outline\" className=\"w-full justify-start gap-2\">\n                    <TrendingUp className=\"h-4 w-4\" />\n                    View Leaderboard\n                  </Button>\n                </a>\n              </Link>\n            </div>\n          </Card>\n\n          {/* AI Post Suggestions */}\n          <SuggestedPosts \n            onSelectSuggestion={(content, category, tags) => {\n              setPostInitialValues({\n                content,\n                category,\n                tags: tags.join(\", \")\n              });\n              setCreatePostOpen(true);\n            }} \n          />\n\n          {/* Recent Badges */}\n          {userBadges.length > 0 && (\n            <Card className=\"p-6\">\n              <h3 className=\"font-heading font-semibold text-lg mb-4\">Recent Badges</h3>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {userBadges.slice(0, 6).map((ub) => (\n                  <div key={ub.id} className=\"flex justify-center\">\n                    <BadgeIcon badge={ub.badge} size=\"md\" />\n                  </div>\n                ))}\n              </div>\n              {userBadges.length > 6 && (\n                <Link href=\"/profile\">\n                  <a data-testid=\"link-view-all-badges\">\n                    <Button variant=\"ghost\" className=\"w-full mt-4\">\n                      View All {userBadges.length} Badges\n                    </Button>\n                  </a>\n                </Link>\n              )}\n            </Card>\n          )}\n\n          {/* Active Challenges */}\n          {challenges.length > 0 && (\n            <Card className=\"p-6\">\n              <h3 className=\"font-heading font-semibold text-lg mb-4\">Active Challenges</h3>\n              <div className=\"space-y-3\">\n                {challenges.slice(0, 3).map((challenge) => (\n                  <div key={challenge.id} className=\"border rounded-lg p-3 hover-elevate\">\n                    <div className=\"font-medium text-sm mb-1\">{challenge.title}</div>\n                    <div className=\"text-xs text-muted-foreground mb-2 line-clamp-2\">\n                      {challenge.description}\n                    </div>\n                    <BadgePill variant=\"secondary\" className=\"text-xs\">\n                      {challenge.participantCount} participants\n                    </BadgePill>\n                  </div>\n                ))}\n              </div>\n              <Link href=\"/challenges\">\n                <a data-testid=\"link-view-challenges\">\n                  <Button variant=\"ghost\" className=\"w-full mt-4\">\n                    View All Challenges\n                  </Button>\n                </a>\n              </Link>\n            </Card>\n          )}\n        </div>\n      </div>\n\n      <CreatePostModal \n        open={createPostOpen} \n        onOpenChange={setCreatePostOpen}\n        initialContent={postInitialValues.content}\n        initialCategory={postInitialValues.category}\n        initialTags={postInitialValues.tags}\n      />\n    </div>\n  );\n}\n","size_bytes":10388},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"server/routes.ts":{"content":"import type { Express, Request, Response } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { eq, desc, sql, and, or, like } from \"drizzle-orm\";\nimport { db } from \"./db\";\nimport { storage } from \"./storage\";\nimport { setupAuth, verifyToken, isAuthenticated, type AuthRequest } from \"./firebaseAuth\";\nimport {\n  users,\n  posts,\n  comments,\n  reactions,\n  badges,\n  userBadges,\n  skills,\n  userSkills,\n  endorsements,\n  courses,\n  courseEnrollments,\n  courseDiscussions,\n  discussionReplies,\n  challenges,\n  challengeParticipants,\n  notifications,\n  announcements,\n  insertPostSchema,\n  insertCommentSchema,\n  insertReactionSchema,\n  insertEndorsementSchema,\n  insertChallengeSchema,\n  insertAnnouncementSchema,\n  insertCourseDiscussionSchema,\n  insertDiscussionReplySchema,\n} from \"@shared/schema\";\nimport OpenAI from \"openai\";\n\nconst openai = process.env.OPENAI_API_KEY ? new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY,\n}) : null;\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Auth middleware\n  await setupAuth(app);\n\n  // ========================================================================\n  // AUTH ENDPOINTS\n  // ========================================================================\n\n  app.post(\"/api/auth/register\", verifyToken, async (req: AuthRequest, res: Response) => {\n    try {\n      if (!req.user) {\n        return res.status(401).json({ message: \"Unauthorized\" });\n      }\n\n      const { email, displayName, role, university, major, company, position, bio } = req.body;\n      \n      const [firstName, ...lastNameParts] = displayName.split(' ');\n      const lastName = lastNameParts.join(' ');\n\n      const user = await storage.createUserFromFirebase(req.user.id, {\n        email,\n        displayName,\n        firstName,\n        lastName,\n        role: role || 'student',\n        university: university || null,\n        major: major || null,\n        company: company || null,\n        position: position || null,\n        bio: bio || null,\n      });\n\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error creating user:\", error);\n      res.status(500).json({ message: \"Failed to create user profile\" });\n    }\n  });\n\n  app.get(\"/api/auth/user\", isAuthenticated, async (req: AuthRequest, res: Response) => {\n    try {\n      res.json(req.user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  // ========================================================================\n  // POSTS ENDPOINTS\n  // ========================================================================\n\n  app.get(\"/api/posts\", async (req: Request, res: Response) => {\n    const { category, filterByInterests, userId } = req.query;\n    \n    try {\n      let query = db\n        .select({\n          id: posts.id,\n          authorId: posts.authorId,\n          content: posts.content,\n          imageUrl: posts.imageUrl,\n          category: posts.category,\n          tags: posts.tags,\n          viewCount: posts.viewCount,\n          createdAt: posts.createdAt,\n          updatedAt: posts.updatedAt,\n          author: users,\n        })\n        .from(posts)\n        .leftJoin(users, eq(posts.authorId, users.id))\n        .orderBy(desc(posts.createdAt))\n        .$dynamic();\n\n      if (category && category !== 'all') {\n        query = query.where(eq(posts.category, category as string));\n      }\n\n      let postsData = await query;\n\n      // Interest-based filtering\n      if (filterByInterests === 'true' && userId) {\n        const [currentUser] = await db.select().from(users).where(eq(users.id, userId as string)).limit(1);\n        if (currentUser && currentUser.interests && currentUser.interests.length > 0) {\n          // Filter posts that have tags matching user interests\n          const userInterests = currentUser.interests;\n          postsData = postsData.filter(post => {\n            if (!post.tags || post.tags.length === 0) return false;\n            return post.tags.some(tag => \n              userInterests.some(interest => \n                tag.toLowerCase().includes(interest.toLowerCase()) ||\n                interest.toLowerCase().includes(tag.toLowerCase())\n              )\n            );\n          });\n        }\n      }\n\n      const postsDataArray = postsData;\n\n      // Fetch comments and reactions for each post\n      const postsWithDetails = await Promise.all(\n        postsDataArray.map(async (post) => {\n          const postComments = await db\n            .select({\n              id: comments.id,\n              postId: comments.postId,\n              authorId: comments.authorId,\n              content: comments.content,\n              createdAt: comments.createdAt,\n              author: users,\n            })\n            .from(comments)\n            .leftJoin(users, eq(comments.authorId, users.id))\n            .where(eq(comments.postId, post.id))\n            .orderBy(comments.createdAt);\n\n          const postReactions = await db\n            .select()\n            .from(reactions)\n            .where(eq(reactions.postId, post.id));\n\n          return {\n            ...post,\n            comments: postComments,\n            reactions: postReactions,\n          };\n        })\n      );\n\n      res.json(postsWithDetails);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.post(\"/api/posts\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertPostSchema.parse({\n        ...req.body,\n        authorId: req.user!.id,\n      });\n\n      const [newPost] = await db.insert(posts).values(validatedData).returning();\n\n      // Update engagement score\n      await db\n        .update(users)\n        .set({\n          engagementScore: sql`${users.engagementScore} + 10`,\n        })\n        .where(eq(users.id, req.user!.id));\n\n      res.json(newPost);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // COMMENTS ENDPOINTS\n  // ========================================================================\n\n  app.post(\"/api/comments\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertCommentSchema.parse({\n        ...req.body,\n        authorId: req.user!.id,\n      });\n\n      const [newComment] = await db.insert(comments).values(validatedData).returning();\n\n      // Update engagement score\n      await db\n        .update(users)\n        .set({\n          engagementScore: sql`${users.engagementScore} + 5`,\n        })\n        .where(eq(users.id, req.user!.id));\n\n      res.json(newComment);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // REACTIONS ENDPOINTS\n  // ========================================================================\n\n  app.post(\"/api/reactions\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertReactionSchema.parse({\n        ...req.body,\n        userId: req.user!.id,\n      });\n\n      // Check if reaction already exists\n      const existing = await db\n        .select()\n        .from(reactions)\n        .where(\n          and(\n            eq(reactions.postId, validatedData.postId),\n            eq(reactions.userId, req.user!.id),\n            eq(reactions.type, validatedData.type)\n          )\n        )\n        .limit(1);\n\n      if (existing.length > 0) {\n        return res.status(400).json({ error: \"Already reacted\" });\n      }\n\n      const [newReaction] = await db.insert(reactions).values(validatedData).returning();\n\n      // Update engagement score\n      await db\n        .update(users)\n        .set({\n          engagementScore: sql`${users.engagementScore} + 2`,\n        })\n        .where(eq(users.id, req.user!.id));\n\n      res.json(newReaction);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // BADGES ENDPOINTS\n  // ========================================================================\n\n  app.get(\"/api/user-badges/:userId\", async (req: Request, res: Response) => {\n    try {\n      const userBadgesData = await db\n        .select({\n          id: userBadges.id,\n          userId: userBadges.userId,\n          badgeId: userBadges.badgeId,\n          earnedAt: userBadges.earnedAt,\n          badge: badges,\n        })\n        .from(userBadges)\n        .leftJoin(badges, eq(userBadges.badgeId, badges.id))\n        .where(eq(userBadges.userId, req.params.userId))\n        .orderBy(desc(userBadges.earnedAt));\n\n      res.json(userBadgesData);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // SKILLS & ENDORSEMENTS\n  // ========================================================================\n\n  app.get(\"/api/skills\", async (req: Request, res: Response) => {\n    try {\n      const allSkills = await db.select().from(skills).orderBy(skills.name);\n      res.json(allSkills);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.get(\"/api/endorsements/:userId\", async (req: Request, res: Response) => {\n    try {\n      const userEndorsements = await db\n        .select({\n          id: endorsements.id,\n          endorserId: endorsements.endorserId,\n          endorsedUserId: endorsements.endorsedUserId,\n          skillId: endorsements.skillId,\n          comment: endorsements.comment,\n          createdAt: endorsements.createdAt,\n          endorser: users,\n          skill: skills,\n        })\n        .from(endorsements)\n        .leftJoin(users, eq(endorsements.endorserId, users.id))\n        .leftJoin(skills, eq(endorsements.skillId, skills.id))\n        .where(eq(endorsements.endorsedUserId, req.params.userId))\n        .orderBy(desc(endorsements.createdAt));\n\n      res.json(userEndorsements);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.post(\"/api/endorsements\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertEndorsementSchema.parse({\n        ...req.body,\n        endorserId: req.user!.id,\n      });\n\n      const [newEndorsement] = await db.insert(endorsements).values(validatedData).returning();\n\n      // Update endorsement score for endorsed user\n      await db\n        .update(users)\n        .set({\n          endorsementScore: sql`${users.endorsementScore} + 10`,\n          engagementScore: sql`${users.engagementScore} + 15`,\n        })\n        .where(eq(users.id, validatedData.endorsedUserId));\n\n      // Create notification\n      await db.insert(notifications).values({\n        userId: validatedData.endorsedUserId,\n        type: \"endorsement\",\n        title: \"New Endorsement!\",\n        message: `${req.user!.firstName} ${req.user!.lastName} endorsed you`,\n        link: \"/profile\",\n      });\n\n      res.json(newEndorsement);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // STUDENTS ENDPOINT (for teachers, industry, admins)\n  // ========================================================================\n\n  app.get(\"/api/students\", async (req: Request, res: Response) => {\n    try {\n      const students = await db\n        .select()\n        .from(users)\n        .where(eq(users.role, \"student\"))\n        .orderBy(desc(users.engagementScore));\n\n      res.json(students);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // COURSE FORUMS & DISCUSSIONS ENDPOINTS\n  // ========================================================================\n\n  // Get all courses\n  app.get(\"/api/courses\", async (req: Request, res: Response) => {\n    try {\n      const allCourses = await storage.getCourses();\n      res.json(allCourses);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Get discussions for a course with author info\n  app.get(\"/api/courses/:courseId/discussions\", async (req: Request, res: Response) => {\n    try {\n      const discussionsData = await db\n        .select({\n          discussion: courseDiscussions,\n          author: users,\n        })\n        .from(courseDiscussions)\n        .leftJoin(users, eq(courseDiscussions.authorId, users.id))\n        .where(eq(courseDiscussions.courseId, req.params.courseId))\n        .orderBy(desc(courseDiscussions.upvoteCount), desc(courseDiscussions.createdAt))\n        .limit(50); // Pagination limit\n\n      res.json(discussionsData);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Create a new discussion\n  app.post(\"/api/discussions\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertCourseDiscussionSchema.parse({\n        ...req.body,\n        authorId: req.user!.id,\n      });\n\n      const newDiscussion = await storage.createDiscussion(validatedData);\n      \n      // Update engagement score\n      await db\n        .update(users)\n        .set({ engagementScore: sql`${users.engagementScore} + 5` })\n        .where(eq(users.id, req.user!.id));\n\n      res.json(newDiscussion);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // Get discussion with replies and author info\n  app.get(\"/api/discussions/:discussionId/replies\", async (req: Request, res: Response) => {\n    try {\n      const repliesData = await db\n        .select({\n          reply: discussionReplies,\n          author: users,\n        })\n        .from(discussionReplies)\n        .leftJoin(users, eq(discussionReplies.authorId, users.id))\n        .where(eq(discussionReplies.discussionId, req.params.discussionId))\n        .orderBy(desc(discussionReplies.upvoteCount), desc(discussionReplies.createdAt))\n        .limit(100); // Pagination limit\n\n      res.json(repliesData);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Create a reply\n  app.post(\"/api/replies\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertDiscussionReplySchema.parse({\n        ...req.body,\n        authorId: req.user!.id,\n      });\n\n      const newReply = await storage.createReply(validatedData);\n      \n      // Update engagement score\n      await db\n        .update(users)\n        .set({ engagementScore: sql`${users.engagementScore} + 3` })\n        .where(eq(users.id, req.user!.id));\n\n      // Get the discussion to notify the author\n      const [discussion] = await db\n        .select()\n        .from(courseDiscussions)\n        .where(eq(courseDiscussions.id, validatedData.discussionId));\n\n      if (discussion && discussion.authorId !== req.user!.id) {\n        await db.insert(notifications).values({\n          userId: discussion.authorId,\n          type: \"comment\",\n          title: \"New Reply\",\n          message: `${req.user!.firstName} ${req.user!.lastName} replied to your discussion`,\n          link: `/forums/${discussion.courseId}/${discussion.id}`,\n        });\n      }\n\n      res.json(newReply);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // Toggle upvote on discussion\n  app.post(\"/api/discussions/:discussionId/upvote\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const upvoted = await storage.toggleDiscussionUpvote(\n        req.user!.id,\n        req.params.discussionId\n      );\n\n      res.json({ upvoted });\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // Toggle upvote on reply\n  app.post(\"/api/replies/:replyId/upvote\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const upvoted = await storage.toggleReplyUpvote(\n        req.user!.id,\n        req.params.replyId\n      );\n\n      res.json({ upvoted });\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // CHALLENGES ENDPOINTS\n  // ========================================================================\n\n  app.get(\"/api/challenges/:status?\", async (req: Request, res: Response) => {\n    try {\n      let query = db.select().from(challenges).orderBy(desc(challenges.createdAt)).$dynamic();\n\n      if (req.params.status && req.params.status !== 'all') {\n        query = query.where(eq(challenges.status, req.params.status));\n      }\n\n      const challengesData = await query;\n      res.json(challengesData);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.post(\"/api/challenges\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const validatedData = insertChallengeSchema.parse({\n        ...req.body,\n        organizerId: req.user!.id,\n      });\n\n      const [newChallenge] = await db.insert(challenges).values(validatedData).returning();\n      res.json(newChallenge);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // NOTIFICATIONS ENDPOINT\n  // ========================================================================\n\n  app.get(\"/api/notifications\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const userNotifications = await db\n        .select()\n        .from(notifications)\n        .where(eq(notifications.userId, req.user!.id))\n        .orderBy(desc(notifications.createdAt))\n        .limit(20);\n\n      res.json(userNotifications);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // AI CAREERBOT ENDPOINT\n  // ========================================================================\n\n  app.post(\"/api/careerbot/chat\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const { message } = req.body;\n\n      if (!message || typeof message !== 'string') {\n        return res.status(400).json({ error: \"Message is required\" });\n      }\n\n      if (!openai) {\n        return res.status(503).json({ error: \"AI CareerBot is not available. Please configure the OpenAI API key.\" });\n      }\n\n      const systemPrompt = `You are an AI career advisor for university students. You provide personalized career guidance, skill recommendations, resume tips, interview preparation advice, and learning path suggestions. You are helpful, encouraging, and knowledgeable about various career paths and industries.\n\nUser Profile:\n- Name: ${req.user!.firstName} ${req.user!.lastName}\n- Major: ${req.user!.major || \"Not specified\"}\n- University: ${req.user!.university || \"Not specified\"}\n- Engagement Score: ${req.user!.engagementScore}\n- Problem Solver Score: ${req.user!.problemSolverScore}\n\nKeep your responses concise (2-4 paragraphs max), actionable, and encouraging. Use a friendly, professional tone suitable for Gen Z students.`;\n\n      const completion = await openai.chat.completions.create({\n        model: \"gpt-4o-mini\",\n        messages: [\n          { role: \"system\", content: systemPrompt },\n          { role: \"user\", content: message },\n        ],\n        temperature: 0.7,\n        max_tokens: 500,\n      });\n\n      const assistantMessage = completion.choices[0]?.message?.content || \"I'm sorry, I couldn't generate a response. Please try again.\";\n\n      // Update engagement score for using CareerBot\n      await db\n        .update(users)\n        .set({\n          engagementScore: sql`${users.engagementScore} + 3`,\n        })\n        .where(eq(users.id, req.user!.id));\n\n      res.json({ message: assistantMessage });\n    } catch (error: any) {\n      console.error(\"CareerBot error:\", error);\n      res.status(500).json({ error: \"Failed to get response from CareerBot\" });\n    }\n  });\n\n  // ========================================================================\n  // AI POST SUGGESTIONS ENDPOINT\n  // ========================================================================\n\n  app.get(\"/api/ai/suggest-posts\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      if (!openai) {\n        return res.status(503).json({ error: \"AI post suggestions are not available. Please configure the OpenAI API key.\" });\n      }\n\n      const userInterests = (req.user as any).interests || [];\n      const interestsText = userInterests.length > 0 ? userInterests.join(', ') : 'general academic topics';\n\n      const systemPrompt = `You are a creative content generator for a Gen Z student social platform. Generate 3 engaging post ideas that would resonate with university students. The posts should be inspiring, educational, or thought-provoking.\n\nUser Profile:\n- Name: ${req.user!.firstName} ${req.user!.lastName}\n- Major: ${req.user!.major || \"Not specified\"}\n- Interests: ${interestsText}\n\nGenerate 3 diverse post ideas (one academic, one social/community, one project/achievement related) that would be interesting to this user. Each post should be:\n- Engaging and relevant to Gen Z students\n- 2-3 sentences long\n- Include a call-to-action or question to encourage discussion\n- Appropriate for a university social platform\n\nFormat your response as a JSON array of objects with fields: category (academic/social/project), content (the post text), and tags (array of 2-3 relevant hashtags).`;\n\n      const completion = await openai.chat.completions.create({\n        model: \"gpt-4o-mini\",\n        messages: [\n          { role: \"system\", content: systemPrompt },\n          { role: \"user\", content: \"Generate 3 personalized post ideas for me.\" },\n        ],\n        temperature: 0.8,\n        max_tokens: 600,\n        response_format: { type: \"json_object\" },\n      });\n\n      const responseText = completion.choices[0]?.message?.content || \"{}\";\n      const suggestions = JSON.parse(responseText);\n\n      res.json(suggestions);\n    } catch (error: any) {\n      console.error(\"AI post suggestions error:\", error);\n      res.status(500).json({ error: \"Failed to generate post suggestions\" });\n    }\n  });\n\n  // ========================================================================\n  // AI CONTENT MODERATION ENDPOINT\n  // ========================================================================\n\n  app.post(\"/api/ai/moderate-content\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n\n    try {\n      const { content } = req.body;\n\n      if (!content || typeof content !== 'string') {\n        return res.status(400).json({ error: \"Content is required\" });\n      }\n\n      if (!openai) {\n        // If OpenAI is not available, default to allowing the content\n        return res.json({ \n          approved: true, \n          reason: \"Moderation unavailable\",\n          confidence: 0 \n        });\n      }\n\n      const moderationPrompt = `You are a content moderator for a university social platform. Analyze the following content and determine if it's appropriate. Content should be rejected if it contains:\n- Hate speech or discrimination\n- Harassment or bullying\n- Explicit sexual content\n- Violence or threats\n- Spam or scams\n- Misinformation that could be harmful\n\nContent to moderate:\n\"${content}\"\n\nRespond with a JSON object containing:\n- approved (boolean): true if content is appropriate, false otherwise\n- reason (string): brief explanation (max 50 words)\n- confidence (number): 0-1 confidence score\n\nBe lenient with academic discussions, debates, and Gen Z slang. Only flag clearly inappropriate content.`;\n\n      const completion = await openai.chat.completions.create({\n        model: \"gpt-4o-mini\",\n        messages: [\n          { role: \"system\", content: moderationPrompt },\n        ],\n        temperature: 0.3,\n        max_tokens: 150,\n        response_format: { type: \"json_object\" },\n      });\n\n      const responseText = completion.choices[0]?.message?.content || \"{}\";\n      const moderation = JSON.parse(responseText);\n\n      res.json(moderation);\n    } catch (error: any) {\n      console.error(\"Content moderation error:\", error);\n      // Default to approving if moderation fails\n      res.json({ \n        approved: true, \n        reason: \"Moderation check failed, defaulting to approval\",\n        confidence: 0 \n      });\n    }\n  });\n\n  // ========================================================================\n  // ADMIN ENDPOINTS\n  // ========================================================================\n\n  app.get(\"/api/admin/users\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated() || req.user!.role !== 'master_admin') {\n      return res.status(403).send(\"Forbidden\");\n    }\n\n    try {\n      const allUsers = await db.select().from(users).orderBy(desc(users.createdAt));\n      res.json(allUsers);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.get(\"/api/admin/posts\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated() || req.user!.role !== 'master_admin') {\n      return res.status(403).send(\"Forbidden\");\n    }\n\n    try {\n      const allPosts = await db.select().from(posts).orderBy(desc(posts.createdAt));\n      res.json(allPosts);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  // ========================================================================\n  // ANNOUNCEMENTS (for university admins)\n  // ========================================================================\n\n  app.get(\"/api/announcements\", async (req: Request, res: Response) => {\n    try {\n      const allAnnouncements = await db\n        .select({\n          id: announcements.id,\n          authorId: announcements.authorId,\n          title: announcements.title,\n          content: announcements.content,\n          university: announcements.university,\n          isPinned: announcements.isPinned,\n          createdAt: announcements.createdAt,\n          updatedAt: announcements.updatedAt,\n          author: users,\n        })\n        .from(announcements)\n        .leftJoin(users, eq(announcements.authorId, users.id))\n        .orderBy(desc(announcements.isPinned), desc(announcements.createdAt));\n\n      res.json(allAnnouncements);\n    } catch (error: any) {\n      res.status(500).json({ error: error.message });\n    }\n  });\n\n  app.post(\"/api/announcements\", async (req: Request, res: Response) => {\n    if (!req.isAuthenticated() || req.user!.role !== 'university_admin') {\n      return res.status(403).send(\"Forbidden\");\n    }\n\n    try {\n      const validatedData = insertAnnouncementSchema.parse({\n        ...req.body,\n        authorId: req.user!.id,\n      });\n\n      const [newAnnouncement] = await db.insert(announcements).values(validatedData).returning();\n      res.json(newAnnouncement);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":28347},"shared/schema.ts":{"content":"import { sql } from 'drizzle-orm';\nimport { relations } from 'drizzle-orm';\nimport {\n  index,\n  uniqueIndex,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  text,\n  integer,\n  boolean,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// ============================================================================\n// AUTH TABLES (Required for Replit Auth)\n// ============================================================================\n\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// ============================================================================\n// USER TABLES\n// ============================================================================\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  firebaseUid: varchar(\"firebase_uid\").unique().notNull(),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  displayName: varchar(\"display_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  role: varchar(\"role\", { length: 50 }).notNull().default('student'), // student, teacher, university_admin, industry_professional, master_admin\n  bio: text(\"bio\"),\n  university: varchar(\"university\"),\n  major: varchar(\"major\"),\n  graduationYear: integer(\"graduation_year\"),\n  company: varchar(\"company\"), // for industry professionals\n  position: varchar(\"position\"), // for industry professionals\n  interests: text(\"interests\").array().default(sql`ARRAY[]::text[]`),\n  engagementScore: integer(\"engagement_score\").notNull().default(0),\n  problemSolverScore: integer(\"problem_solver_score\").notNull().default(0),\n  endorsementScore: integer(\"endorsement_score\").notNull().default(0),\n  streak: integer(\"streak\").notNull().default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const usersRelations = relations(users, ({ many }) => ({\n  posts: many(posts),\n  comments: many(comments),\n  reactions: many(reactions),\n  userBadges: many(userBadges),\n  userSkills: many(userSkills),\n  endorsementsGiven: many(endorsements, { relationName: \"endorser\" }),\n  endorsementsReceived: many(endorsements, { relationName: \"endorsed\" }),\n  enrollments: many(courseEnrollments),\n  challengeParticipations: many(challengeParticipants),\n  notifications: many(notifications),\n}));\n\nexport type User = typeof users.$inferSelect;\nexport type UpsertUser = typeof users.$inferInsert;\n\n// ============================================================================\n// SOCIAL FEED TABLES\n// ============================================================================\n\nexport const posts = pgTable(\"posts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  authorId: varchar(\"author_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  content: text(\"content\").notNull(),\n  imageUrl: varchar(\"image_url\"),\n  category: varchar(\"category\"), // academic, social, project, achievement\n  tags: text(\"tags\").array(),\n  viewCount: integer(\"view_count\").notNull().default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const postsRelations = relations(posts, ({ one, many }) => ({\n  author: one(users, {\n    fields: [posts.authorId],\n    references: [users.id],\n  }),\n  comments: many(comments),\n  reactions: many(reactions),\n}));\n\nexport const insertPostSchema = createInsertSchema(posts).omit({\n  id: true,\n  viewCount: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type Post = typeof posts.$inferSelect;\nexport type InsertPost = z.infer<typeof insertPostSchema>;\n\n// ============================================================================\n// COMMENTS\n// ============================================================================\n\nexport const comments = pgTable(\"comments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  postId: varchar(\"post_id\").notNull().references(() => posts.id, { onDelete: 'cascade' }),\n  authorId: varchar(\"author_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  content: text(\"content\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const commentsRelations = relations(comments, ({ one }) => ({\n  post: one(posts, {\n    fields: [comments.postId],\n    references: [posts.id],\n  }),\n  author: one(users, {\n    fields: [comments.authorId],\n    references: [users.id],\n  }),\n}));\n\nexport const insertCommentSchema = createInsertSchema(comments).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type Comment = typeof comments.$inferSelect;\nexport type InsertComment = z.infer<typeof insertCommentSchema>;\n\n// ============================================================================\n// REACTIONS\n// ============================================================================\n\nexport const reactions = pgTable(\"reactions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  postId: varchar(\"post_id\").notNull().references(() => posts.id, { onDelete: 'cascade' }),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  type: varchar(\"type\", { length: 20 }).notNull(), // like, celebrate, insightful, support\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const reactionsRelations = relations(reactions, ({ one }) => ({\n  post: one(posts, {\n    fields: [reactions.postId],\n    references: [posts.id],\n  }),\n  user: one(users, {\n    fields: [reactions.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const insertReactionSchema = createInsertSchema(reactions).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type Reaction = typeof reactions.$inferSelect;\nexport type InsertReaction = z.infer<typeof insertReactionSchema>;\n\n// ============================================================================\n// GAMIFICATION: BADGES\n// ============================================================================\n\nexport const badges = pgTable(\"badges\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  description: text(\"description\").notNull(),\n  icon: varchar(\"icon\", { length: 50 }).notNull(), // lucide icon name\n  category: varchar(\"category\", { length: 50 }).notNull(), // engagement, problem_solving, learning, social, achievement\n  tier: varchar(\"tier\", { length: 20 }).notNull(), // bronze, silver, gold, platinum\n  criteria: text(\"criteria\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const badgesRelations = relations(badges, ({ many }) => ({\n  userBadges: many(userBadges),\n}));\n\nexport type Badge = typeof badges.$inferSelect;\n\n// ============================================================================\n// USER BADGES\n// ============================================================================\n\nexport const userBadges = pgTable(\"user_badges\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  badgeId: varchar(\"badge_id\").notNull().references(() => badges.id, { onDelete: 'cascade' }),\n  earnedAt: timestamp(\"earned_at\").defaultNow(),\n});\n\nexport const userBadgesRelations = relations(userBadges, ({ one }) => ({\n  user: one(users, {\n    fields: [userBadges.userId],\n    references: [users.id],\n  }),\n  badge: one(badges, {\n    fields: [userBadges.badgeId],\n    references: [badges.id],\n  }),\n}));\n\nexport type UserBadge = typeof userBadges.$inferSelect;\n\n// ============================================================================\n// SKILLS\n// ============================================================================\n\nexport const skills = pgTable(\"skills\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\", { length: 100 }).notNull().unique(),\n  category: varchar(\"category\"), // technical, soft_skills, academic, creative\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const skillsRelations = relations(skills, ({ many }) => ({\n  userSkills: many(userSkills),\n}));\n\nexport type Skill = typeof skills.$inferSelect;\n\n// ============================================================================\n// USER SKILLS\n// ============================================================================\n\nexport const userSkills = pgTable(\"user_skills\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  skillId: varchar(\"skill_id\").notNull().references(() => skills.id, { onDelete: 'cascade' }),\n  level: varchar(\"level\", { length: 20 }).notNull().default('beginner'), // beginner, intermediate, advanced, expert\n  addedAt: timestamp(\"added_at\").defaultNow(),\n});\n\nexport const userSkillsRelations = relations(userSkills, ({ one }) => ({\n  user: one(users, {\n    fields: [userSkills.userId],\n    references: [users.id],\n  }),\n  skill: one(skills, {\n    fields: [userSkills.skillId],\n    references: [skills.id],\n  }),\n}));\n\nexport type UserSkill = typeof userSkills.$inferSelect;\n\n// ============================================================================\n// ENDORSEMENTS\n// ============================================================================\n\nexport const endorsements = pgTable(\"endorsements\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  endorserId: varchar(\"endorser_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  endorsedUserId: varchar(\"endorsed_user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  skillId: varchar(\"skill_id\").references(() => skills.id, { onDelete: 'set null' }),\n  comment: text(\"comment\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const endorsementsRelations = relations(endorsements, ({ one }) => ({\n  endorser: one(users, {\n    fields: [endorsements.endorserId],\n    references: [users.id],\n    relationName: \"endorser\",\n  }),\n  endorsedUser: one(users, {\n    fields: [endorsements.endorsedUserId],\n    references: [users.id],\n    relationName: \"endorsed\",\n  }),\n  skill: one(skills, {\n    fields: [endorsements.skillId],\n    references: [skills.id],\n  }),\n}));\n\nexport const insertEndorsementSchema = createInsertSchema(endorsements).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type Endorsement = typeof endorsements.$inferSelect;\nexport type InsertEndorsement = z.infer<typeof insertEndorsementSchema>;\n\n// ============================================================================\n// COURSES\n// ============================================================================\n\nexport const courses = pgTable(\"courses\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\", { length: 200 }).notNull(),\n  code: varchar(\"code\", { length: 50 }).notNull(),\n  description: text(\"description\"),\n  university: varchar(\"university\"),\n  instructorId: varchar(\"instructor_id\").references(() => users.id, { onDelete: 'set null' }),\n  semester: varchar(\"semester\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const coursesRelations = relations(courses, ({ one, many }) => ({\n  instructor: one(users, {\n    fields: [courses.instructorId],\n    references: [users.id],\n  }),\n  enrollments: many(courseEnrollments),\n  discussions: many(courseDiscussions),\n}));\n\nexport type Course = typeof courses.$inferSelect;\n\n// ============================================================================\n// COURSE ENROLLMENTS\n// ============================================================================\n\nexport const courseEnrollments = pgTable(\"course_enrollments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  courseId: varchar(\"course_id\").notNull().references(() => courses.id, { onDelete: 'cascade' }),\n  studentId: varchar(\"student_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  enrolledAt: timestamp(\"enrolled_at\").defaultNow(),\n});\n\nexport const courseEnrollmentsRelations = relations(courseEnrollments, ({ one }) => ({\n  course: one(courses, {\n    fields: [courseEnrollments.courseId],\n    references: [courses.id],\n  }),\n  student: one(users, {\n    fields: [courseEnrollments.studentId],\n    references: [users.id],\n  }),\n}));\n\nexport type CourseEnrollment = typeof courseEnrollments.$inferSelect;\n\n// ============================================================================\n// COURSE DISCUSSIONS\n// ============================================================================\n\nexport const courseDiscussions = pgTable(\"course_discussions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  courseId: varchar(\"course_id\").notNull().references(() => courses.id, { onDelete: 'cascade' }),\n  authorId: varchar(\"author_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  title: varchar(\"title\", { length: 200 }).notNull(),\n  content: text(\"content\").notNull(),\n  isQuestion: boolean(\"is_question\").notNull().default(true),\n  isResolved: boolean(\"is_resolved\").notNull().default(false),\n  replyCount: integer(\"reply_count\").notNull().default(0),\n  upvoteCount: integer(\"upvote_count\").notNull().default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const courseDiscussionsRelations = relations(courseDiscussions, ({ one, many }) => ({\n  course: one(courses, {\n    fields: [courseDiscussions.courseId],\n    references: [courses.id],\n  }),\n  author: one(users, {\n    fields: [courseDiscussions.authorId],\n    references: [users.id],\n  }),\n  replies: many(discussionReplies),\n  upvotes: many(discussionUpvotes),\n}));\n\nexport const insertCourseDiscussionSchema = createInsertSchema(courseDiscussions).omit({\n  id: true,\n  replyCount: true,\n  upvoteCount: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type CourseDiscussion = typeof courseDiscussions.$inferSelect;\nexport type InsertCourseDiscussion = z.infer<typeof insertCourseDiscussionSchema>;\n\n// ============================================================================\n// DISCUSSION REPLIES\n// ============================================================================\n\nexport const discussionReplies = pgTable(\"discussion_replies\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  discussionId: varchar(\"discussion_id\").notNull().references(() => courseDiscussions.id, { onDelete: 'cascade' }),\n  authorId: varchar(\"author_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  content: text(\"content\").notNull(),\n  upvoteCount: integer(\"upvote_count\").notNull().default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const discussionRepliesRelations = relations(discussionReplies, ({ one, many }) => ({\n  discussion: one(courseDiscussions, {\n    fields: [discussionReplies.discussionId],\n    references: [courseDiscussions.id],\n  }),\n  author: one(users, {\n    fields: [discussionReplies.authorId],\n    references: [users.id],\n  }),\n  upvotes: many(discussionUpvotes),\n}));\n\nexport const insertDiscussionReplySchema = createInsertSchema(discussionReplies).omit({\n  id: true,\n  upvoteCount: true,\n  createdAt: true,\n});\n\nexport type DiscussionReply = typeof discussionReplies.$inferSelect;\nexport type InsertDiscussionReply = z.infer<typeof insertDiscussionReplySchema>;\n\n// ============================================================================\n// DISCUSSION UPVOTES\n// ============================================================================\n\nexport const discussionUpvotes = pgTable(\"discussion_upvotes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  discussionId: varchar(\"discussion_id\").references(() => courseDiscussions.id, { onDelete: 'cascade' }),\n  replyId: varchar(\"reply_id\").references(() => discussionReplies.id, { onDelete: 'cascade' }),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  uniqueIndex(\"unique_upvote_user_discussion\").on(table.userId, table.discussionId).where(sql`${table.discussionId} IS NOT NULL`),\n  uniqueIndex(\"unique_upvote_user_reply\").on(table.userId, table.replyId).where(sql`${table.replyId} IS NOT NULL`),\n]);\n\nexport const discussionUpvotesRelations = relations(discussionUpvotes, ({ one }) => ({\n  discussion: one(courseDiscussions, {\n    fields: [discussionUpvotes.discussionId],\n    references: [courseDiscussions.id],\n  }),\n  reply: one(discussionReplies, {\n    fields: [discussionUpvotes.replyId],\n    references: [discussionReplies.id],\n  }),\n  user: one(users, {\n    fields: [discussionUpvotes.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const insertDiscussionUpvoteSchema = createInsertSchema(discussionUpvotes).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport type DiscussionUpvote = typeof discussionUpvotes.$inferSelect;\nexport type InsertDiscussionUpvote = z.infer<typeof insertDiscussionUpvoteSchema>;\n\n// ============================================================================\n// CHALLENGES\n// ============================================================================\n\nexport const challenges = pgTable(\"challenges\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: varchar(\"title\", { length: 200 }).notNull(),\n  description: text(\"description\").notNull(),\n  organizerId: varchar(\"organizer_id\").references(() => users.id, { onDelete: 'set null' }), // industry partner or university\n  category: varchar(\"category\"), // hackathon, coding, design, innovation\n  difficulty: varchar(\"difficulty\", { length: 20 }).notNull().default('intermediate'), // beginner, intermediate, advanced\n  prizes: text(\"prizes\"),\n  startDate: timestamp(\"start_date\"),\n  endDate: timestamp(\"end_date\"),\n  participantCount: integer(\"participant_count\").notNull().default(0),\n  status: varchar(\"status\", { length: 20 }).notNull().default('upcoming'), // upcoming, active, completed\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const challengesRelations = relations(challenges, ({ one, many }) => ({\n  organizer: one(users, {\n    fields: [challenges.organizerId],\n    references: [users.id],\n  }),\n  participants: many(challengeParticipants),\n}));\n\nexport const insertChallengeSchema = createInsertSchema(challenges).omit({\n  id: true,\n  participantCount: true,\n  createdAt: true,\n});\n\nexport type Challenge = typeof challenges.$inferSelect;\nexport type InsertChallenge = z.infer<typeof insertChallengeSchema>;\n\n// ============================================================================\n// CHALLENGE PARTICIPANTS\n// ============================================================================\n\nexport const challengeParticipants = pgTable(\"challenge_participants\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  challengeId: varchar(\"challenge_id\").notNull().references(() => challenges.id, { onDelete: 'cascade' }),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  submissionUrl: varchar(\"submission_url\"),\n  submittedAt: timestamp(\"submitted_at\"),\n  rank: integer(\"rank\"),\n  joinedAt: timestamp(\"joined_at\").defaultNow(),\n});\n\nexport const challengeParticipantsRelations = relations(challengeParticipants, ({ one }) => ({\n  challenge: one(challenges, {\n    fields: [challengeParticipants.challengeId],\n    references: [challenges.id],\n  }),\n  user: one(users, {\n    fields: [challengeParticipants.userId],\n    references: [users.id],\n  }),\n}));\n\nexport type ChallengeParticipant = typeof challengeParticipants.$inferSelect;\n\n// ============================================================================\n// NOTIFICATIONS\n// ============================================================================\n\nexport const notifications = pgTable(\"notifications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  type: varchar(\"type\", { length: 50 }).notNull(), // reaction, comment, endorsement, badge, challenge\n  title: varchar(\"title\", { length: 200 }).notNull(),\n  message: text(\"message\").notNull(),\n  link: varchar(\"link\"),\n  isRead: boolean(\"is_read\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const notificationsRelations = relations(notifications, ({ one }) => ({\n  user: one(users, {\n    fields: [notifications.userId],\n    references: [users.id],\n  }),\n}));\n\nexport type Notification = typeof notifications.$inferSelect;\n\n// ============================================================================\n// ANNOUNCEMENTS (for university admins)\n// ============================================================================\n\nexport const announcements = pgTable(\"announcements\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  authorId: varchar(\"author_id\").notNull().references(() => users.id, { onDelete: 'cascade' }),\n  title: varchar(\"title\", { length: 200 }).notNull(),\n  content: text(\"content\").notNull(),\n  university: varchar(\"university\"),\n  isPinned: boolean(\"is_pinned\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const announcementsRelations = relations(announcements, ({ one }) => ({\n  author: one(users, {\n    fields: [announcements.authorId],\n    references: [users.id],\n  }),\n}));\n\nexport const insertAnnouncementSchema = createInsertSchema(announcements).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type Announcement = typeof announcements.$inferSelect;\nexport type InsertAnnouncement = z.infer<typeof insertAnnouncementSchema>;\n","size_bytes":22052},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/pages/TeacherDashboard.tsx":{"content":"import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport type { User, Endorsement, Skill } from \"@shared/schema\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { UserAvatar } from \"@/components/UserAvatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { TrendingUp, Award, Users, Target } from \"lucide-react\";\nimport { useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function TeacherDashboard() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [endorseModalOpen, setEndorseModalOpen] = useState(false);\n  const [selectedStudent, setSelectedStudent] = useState<User | null>(null);\n  const [selectedSkill, setSelectedSkill] = useState(\"\");\n  const [endorsementComment, setEndorsementComment] = useState(\"\");\n\n  const { data: students = [] } = useQuery<User[]>({\n    queryKey: [\"/api/students\"],\n  });\n\n  const { data: skills = [] } = useQuery<Skill[]>({\n    queryKey: [\"/api/skills\"],\n  });\n\n  const endorseMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest(\"POST\", \"/api/endorsements\", {\n        endorsedUserId: selectedStudent?.id,\n        skillId: selectedSkill || null,\n        comment: endorsementComment,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/students\"] });\n      toast({ title: \"Endorsement sent successfully!\" });\n      setEndorseModalOpen(false);\n      setEndorsementComment(\"\");\n      setSelectedSkill(\"\");\n    },\n  });\n\n  const filteredStudents = students.filter((student) => {\n    const searchLower = searchTerm.toLowerCase();\n    return (\n      student.firstName?.toLowerCase().includes(searchLower) ||\n      student.lastName?.toLowerCase().includes(searchLower) ||\n      student.major?.toLowerCase().includes(searchLower)\n    );\n  });\n\n  const topStudents = [...students]\n    .sort((a, b) => (b.engagementScore || 0) - (a.engagementScore || 0))\n    .slice(0, 5);\n\n  const handleEndorseClick = (student: User) => {\n    setSelectedStudent(student);\n    setEndorseModalOpen(true);\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-7xl\">\n      <div className=\"mb-6\">\n        <h1 className=\"font-heading text-3xl font-bold mb-2\">Teacher Dashboard</h1>\n        <p className=\"text-muted-foreground\">\n          Monitor student progress and provide endorsements\n        </p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Total Students</p>\n              <p className=\"text-3xl font-bold\">{students.length}</p>\n            </div>\n            <Users className=\"h-8 w-8 text-primary\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Avg Engagement</p>\n              <p className=\"text-3xl font-bold\">\n                {Math.round(students.reduce((sum, s) => sum + (s.engagementScore || 0), 0) / students.length) || 0}\n              </p>\n            </div>\n            <TrendingUp className=\"h-8 w-8 text-green-600\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Active Courses</p>\n              <p className=\"text-3xl font-bold\">3</p>\n            </div>\n            <Target className=\"h-8 w-8 text-blue-600\" />\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Endorsements Given</p>\n              <p className=\"text-3xl font-bold\">24</p>\n            </div>\n            <Award className=\"h-8 w-8 text-purple-600\" />\n          </div>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Students List */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"font-heading text-xl font-semibold\">Students</h2>\n              <Input\n                placeholder=\"Search students...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"max-w-xs\"\n                data-testid=\"input-search-students\"\n              />\n            </div>\n\n            <div className=\"space-y-3\">\n              {filteredStudents.map((student) => (\n                <Card\n                  key={student.id}\n                  className=\"p-4 hover-elevate\"\n                  data-testid={`student-${student.id}`}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <UserAvatar user={student} size=\"md\" />\n                    <div className=\"flex-1\">\n                      <div className=\"font-semibold\">\n                        {student.firstName} {student.lastName}\n                      </div>\n                      <div className=\"text-sm text-muted-foreground\">\n                        {student.major || \"No major specified\"}\n                        {student.university && ` Â· ${student.university}`}\n                      </div>\n                      <div className=\"flex gap-2 mt-1\">\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          Engagement: {student.engagementScore || 0}\n                        </Badge>\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          Streak: {student.streak || 0}\n                        </Badge>\n                      </div>\n                    </div>\n                    <Button\n                      size=\"sm\"\n                      onClick={() => handleEndorseClick(student)}\n                      data-testid={`button-endorse-${student.id}`}\n                    >\n                      <Award className=\"mr-2 h-4 w-4\" />\n                      Endorse\n                    </Button>\n                  </div>\n                </Card>\n              ))}\n\n              {filteredStudents.length === 0 && (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  No students found\n                </div>\n              )}\n            </div>\n          </Card>\n        </div>\n\n        {/* Top Performers */}\n        <div className=\"space-y-6\">\n          <Card className=\"p-6\">\n            <h3 className=\"font-heading font-semibold text-lg mb-4\">\n              Top Performers\n            </h3>\n            <div className=\"space-y-3\">\n              {topStudents.map((student, index) => (\n                <div key={student.id} className=\"flex items-center gap-3\">\n                  <div\n                    className={`\n                      h-8 w-8 rounded-full flex items-center justify-center font-bold\n                      ${index === 0 ? 'bg-gradient-to-br from-yellow-400 to-yellow-600 text-white' : ''}\n                      ${index === 1 ? 'bg-gradient-to-br from-gray-300 to-gray-500 text-white' : ''}\n                      ${index === 2 ? 'bg-gradient-to-br from-amber-700 to-amber-900 text-white' : ''}\n                      ${index > 2 ? 'bg-muted' : ''}\n                    `}\n                  >\n                    {index + 1}\n                  </div>\n                  <UserAvatar user={student} size=\"sm\" />\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"text-sm font-medium truncate\">\n                      {student.firstName} {student.lastName}\n                    </div>\n                    <div className=\"text-xs text-muted-foreground\">\n                      {student.engagementScore || 0} points\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Card>\n        </div>\n      </div>\n\n      {/* Endorsement Modal */}\n      <Dialog open={endorseModalOpen} onOpenChange={setEndorseModalOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"font-heading text-2xl\">\n              Endorse {selectedStudent?.firstName} {selectedStudent?.lastName}\n            </DialogTitle>\n          </DialogHeader>\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"skill\">Skill (Optional)</Label>\n              <Select value={selectedSkill} onValueChange={setSelectedSkill}>\n                <SelectTrigger id=\"skill\" data-testid=\"select-skill\">\n                  <SelectValue placeholder=\"Select a skill\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">General Endorsement</SelectItem>\n                  {skills.map((skill) => (\n                    <SelectItem key={skill.id} value={skill.id}>\n                      {skill.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"comment\">Comment</Label>\n              <Textarea\n                id=\"comment\"\n                placeholder=\"Share why you're endorsing this student...\"\n                value={endorsementComment}\n                onChange={(e) => setEndorsementComment(e.target.value)}\n                className=\"min-h-[100px]\"\n                data-testid=\"textarea-endorsement-comment\"\n              />\n            </div>\n\n            <div className=\"flex justify-end gap-3 pt-4 border-t\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setEndorseModalOpen(false)}\n                data-testid=\"button-cancel-endorsement\"\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={() => endorseMutation.mutate()}\n                disabled={!endorsementComment.trim() || endorseMutation.isPending}\n                data-testid=\"button-submit-endorsement\"\n              >\n                {endorseMutation.isPending ? \"Sending...\" : \"Send Endorsement\"}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","size_bytes":10939},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/lib/AuthContext.tsx":{"content":"import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { \n  User, \n  onAuthStateChanged, \n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signInWithPopup,\n  signOut as firebaseSignOut,\n  updateProfile\n} from 'firebase/auth';\nimport { auth, googleProvider } from './firebase';\nimport type { User as DBUser } from '@shared/schema';\n\ninterface AuthContextType {\n  currentUser: User | null;\n  userData: DBUser | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string, displayName: string, role: string, additionalData: any) => Promise<void>;\n  signInWithGoogle: () => Promise<void>;\n  signOut: () => Promise<void>;\n  refreshUserData: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\ninterface AuthProviderProps {\n  children: ReactNode;\n}\n\nexport function AuthProvider({ children }: AuthProviderProps) {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [userData, setUserData] = useState<DBUser | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const refreshUserData = async () => {\n    const user = auth.currentUser;\n    if (!user) {\n      setUserData(null);\n      return;\n    }\n\n    try {\n      const token = await user.getIdToken();\n      const response = await fetch('/api/auth/user', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setUserData(data);\n      } else {\n        setUserData(null);\n      }\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n      setUserData(null);\n    }\n  };\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      setCurrentUser(user);\n      if (user) {\n        await refreshUserData();\n      } else {\n        setUserData(null);\n      }\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    await signInWithEmailAndPassword(auth, email, password);\n    await refreshUserData();\n  };\n\n  const signUp = async (\n    email: string, \n    password: string, \n    displayName: string, \n    role: string,\n    additionalData: any\n  ) => {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    await updateProfile(userCredential.user, { displayName });\n\n    const token = await userCredential.user.getIdToken();\n    const response = await fetch('/api/auth/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        email,\n        displayName,\n        role,\n        ...additionalData,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create user profile');\n    }\n\n    await refreshUserData();\n  };\n\n  const signInWithGoogle = async () => {\n    const result = await signInWithPopup(auth, googleProvider);\n    const user = result.user;\n    \n    const token = await user.getIdToken();\n    const existingUser = await fetch('/api/auth/user', {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    if (!existingUser.ok) {\n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          email: user.email,\n          displayName: user.displayName || 'User',\n          role: 'student',\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create user profile');\n      }\n    }\n\n    await refreshUserData();\n  };\n\n  const signOut = async () => {\n    await firebaseSignOut(auth);\n    setUserData(null);\n  };\n\n  const value: AuthContextType = {\n    currentUser,\n    userData,\n    loading,\n    signIn,\n    signUp,\n    signInWithGoogle,\n    signOut,\n    refreshUserData,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n","size_bytes":4391},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport {\n  users,\n  posts,\n  comments,\n  reactions,\n  badges,\n  userBadges,\n  skills,\n  userSkills,\n  endorsements,\n  courses,\n  courseEnrollments,\n  courseDiscussions,\n  discussionReplies,\n  challenges,\n  challengeParticipants,\n  notifications,\n  announcements,\n} from \"@shared/schema\";\n\nasync function seedDatabase() {\n  console.log(\"Starting database seed...\");\n\n  const mockUsers = [\n    {\n      firebaseUid: \"student1_uid\",\n      email: \"alex.rivera@university.edu\",\n      firstName: \"Alex\",\n      lastName: \"Rivera\",\n      displayName: \"Alex Rivera\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=1\",\n      role: \"student\",\n      bio: \"Computer Science major passionate about AI and web development. Love collaborating on innovative projects!\",\n      university: \"Tech University\",\n      major: \"Computer Science\",\n      graduationYear: 2026,\n      interests: [\"AI\", \"Web Development\", \"Machine Learning\", \"React\", \"Python\"],\n      engagementScore: 1250,\n      problemSolverScore: 890,\n      endorsementScore: 45,\n      streak: 12,\n    },\n    {\n      firebaseUid: \"student2_uid\",\n      email: \"jordan.chen@university.edu\",\n      firstName: \"Jordan\",\n      lastName: \"Chen\",\n      displayName: \"Jordan Chen\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=2\",\n      role: \"student\",\n      bio: \"Design enthusiast and creative coder. Building the future one pixel at a time\",\n      university: \"Tech University\",\n      major: \"Graphic Design\",\n      graduationYear: 2025,\n      interests: [\"UI/UX\", \"Web Design\", \"Figma\", \"Frontend\", \"Animation\"],\n      engagementScore: 2100,\n      problemSolverScore: 560,\n      endorsementScore: 62,\n      streak: 25,\n    },\n    {\n      firebaseUid: \"student3_uid\",\n      email: \"maya.patel@university.edu\",\n      firstName: \"Maya\",\n      lastName: \"Patel\",\n      displayName: \"Maya Patel\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=3\",\n      role: \"student\",\n      bio: \"Data science wizard obsessed with finding patterns in chaos. Coffee-powered analytics machine!\",\n      university: \"Tech University\",\n      major: \"Data Science\",\n      graduationYear: 2026,\n      interests: [\"Data Science\", \"Statistics\", \"Python\", \"Visualization\", \"Big Data\"],\n      engagementScore: 1800,\n      problemSolverScore: 1050,\n      endorsementScore: 38,\n      streak: 18,\n    },\n    {\n      firebaseUid: \"teacher1_uid\",\n      email: \"dr.smith@university.edu\",\n      firstName: \"Sarah\",\n      lastName: \"Smith\",\n      displayName: \"Dr. Sarah Smith\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=4\",\n      role: \"teacher\",\n      bio: \"Professor of Computer Science. Helping students discover their potential in tech.\",\n      university: \"Tech University\",\n      position: \"Professor\",\n      interests: [\"Teaching\", \"Research\", \"AI\", \"Education Technology\"],\n      engagementScore: 450,\n      problemSolverScore: 0,\n      endorsementScore: 0,\n      streak: 5,\n    },\n    {\n      firebaseUid: \"teacher2_uid\",\n      email: \"prof.johnson@university.edu\",\n      firstName: \"Michael\",\n      lastName: \"Johnson\",\n      displayName: \"Prof. Michael Johnson\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=5\",\n      role: \"teacher\",\n      bio: \"Associate Professor of Data Science. Passionate about making data accessible and fun!\",\n      university: \"Tech University\",\n      position: \"Associate Professor\",\n      interests: [\"Data Science\", \"Statistics\", \"Teaching\", \"Research\"],\n      engagementScore: 320,\n      problemSolverScore: 0,\n      endorsementScore: 0,\n      streak: 3,\n    },\n    {\n      firebaseUid: \"university1_uid\",\n      email: \"admin@university.edu\",\n      firstName: \"Emily\",\n      lastName: \"Thompson\",\n      displayName: \"Emily Thompson\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=6\",\n      role: \"university_admin\",\n      bio: \"University Administrator focused on student success and engagement.\",\n      university: \"Tech University\",\n      position: \"Director of Student Engagement\",\n      interests: [\"Education\", \"Student Success\", \"Analytics\"],\n      engagementScore: 0,\n      problemSolverScore: 0,\n      endorsementScore: 0,\n      streak: 0,\n    },\n    {\n      firebaseUid: \"industry1_uid\",\n      email: \"recruit@techcorp.com\",\n      firstName: \"David\",\n      lastName: \"Williams\",\n      displayName: \"David Williams\",\n      profileImageUrl: \"https://i.pravatar.cc/150?img=7\",\n      role: \"industry_professional\",\n      bio: \"Senior Recruiter at TechCorp. Connecting brilliant students with amazing opportunities!\",\n      company: \"TechCorp Solutions\",\n      position: \"Senior Technical Recruiter\",\n      interests: [\"Talent Acquisition\", \"Innovation\", \"Startups\"],\n      engagementScore: 0,\n      problemSolverScore: 0,\n      endorsementScore: 0,\n      streak: 0,\n    },\n  ];\n\n  console.log(\"Inserting users...\");\n  let insertedUsers = await db.insert(users).values(mockUsers).onConflictDoNothing().returning();\n  \n  // If users already exist, fetch them\n  if (insertedUsers.length === 0) {\n    console.log(\"Users already exist, fetching existing users...\");\n    insertedUsers = await db.select().from(users);\n  }\n  console.log(`Using ${insertedUsers.length} users`);\n\n  const mockBadges = [\n    {\n      name: \"First Post\",\n      description: \"Created your first post\",\n      icon: \"MessageSquare\",\n      category: \"engagement\",\n      tier: \"bronze\",\n      criteria: \"Create 1 post\",\n    },\n    {\n      name: \"Social Butterfly\",\n      description: \"Reached 100 engagement points\",\n      icon: \"Users\",\n      category: \"engagement\",\n      tier: \"silver\",\n      criteria: \"Earn 100 engagement points\",\n    },\n    {\n      name: \"Conversation Starter\",\n      description: \"Received 50 comments on your posts\",\n      icon: \"MessageCircle\",\n      category: \"social\",\n      tier: \"silver\",\n      criteria: \"Receive 50 comments total\",\n    },\n    {\n      name: \"Problem Solver\",\n      description: \"Helped solve 10 questions in course discussions\",\n      icon: \"Lightbulb\",\n      category: \"problem_solving\",\n      tier: \"gold\",\n      criteria: \"Solve 10 discussion questions\",\n    },\n    {\n      name: \"Rising Star\",\n      description: \"Earned 1000 engagement points\",\n      icon: \"Star\",\n      category: \"achievement\",\n      tier: \"gold\",\n      criteria: \"Earn 1000 engagement points\",\n    },\n    {\n      name: \"Knowledge Sharer\",\n      description: \"Posted 25 helpful responses\",\n      icon: \"BookOpen\",\n      category: \"learning\",\n      tier: \"silver\",\n      criteria: \"Post 25 helpful responses\",\n    },\n    {\n      name: \"Streak Master\",\n      description: \"Maintained a 30-day streak\",\n      icon: \"Flame\",\n      category: \"engagement\",\n      tier: \"platinum\",\n      criteria: \"Maintain 30-day activity streak\",\n    },\n  ];\n\n  console.log(\"Inserting badges...\");\n  let insertedBadges = await db.insert(badges).values(mockBadges).onConflictDoNothing().returning();\n  \n  // If badges already exist, fetch them\n  if (insertedBadges.length === 0) {\n    console.log(\"Badges already exist, fetching existing badges...\");\n    insertedBadges = await db.select().from(badges);\n  }\n  console.log(`Using ${insertedBadges.length} badges`);\n\n  if (insertedUsers.length > 0 && insertedBadges.length > 0) {\n    const userBadgeAssignments = [\n      { userId: insertedUsers[0].id, badgeId: insertedBadges[0].id },\n      { userId: insertedUsers[0].id, badgeId: insertedBadges[1].id },\n      { userId: insertedUsers[1].id, badgeId: insertedBadges[0].id },\n      { userId: insertedUsers[1].id, badgeId: insertedBadges[1].id },\n      { userId: insertedUsers[1].id, badgeId: insertedBadges[4].id },\n      { userId: insertedUsers[2].id, badgeId: insertedBadges[0].id },\n      { userId: insertedUsers[2].id, badgeId: insertedBadges[3].id },\n    ];\n\n    console.log(\"Assigning badges to users...\");\n    const assignedBadges = await db.insert(userBadges).values(userBadgeAssignments).onConflictDoNothing().returning();\n    console.log(`Assigned ${assignedBadges.length} badges to users`);\n  }\n\n  const mockSkills = [\n    { name: \"JavaScript\", category: \"technical\" },\n    { name: \"Python\", category: \"technical\" },\n    { name: \"React\", category: \"technical\" },\n    { name: \"UI/UX Design\", category: \"creative\" },\n    { name: \"Data Analysis\", category: \"technical\" },\n    { name: \"Machine Learning\", category: \"technical\" },\n    { name: \"Communication\", category: \"soft_skills\" },\n    { name: \"Teamwork\", category: \"soft_skills\" },\n    { name: \"Problem Solving\", category: \"soft_skills\" },\n    { name: \"Figma\", category: \"creative\" },\n  ];\n\n  console.log(\"Inserting skills...\");\n  let insertedSkills = await db.insert(skills).values(mockSkills).onConflictDoNothing().returning();\n  \n  // If skills already exist, fetch them\n  if (insertedSkills.length === 0) {\n    console.log(\"Skills already exist, fetching existing skills...\");\n    insertedSkills = await db.select().from(skills);\n  }\n  console.log(`Using ${insertedSkills.length} skills`);\n\n  if (insertedUsers.length > 0 && insertedSkills.length > 0) {\n    const userSkillAssignments = [\n      { userId: insertedUsers[0].id, skillId: insertedSkills[0].id, level: \"advanced\" },\n      { userId: insertedUsers[0].id, skillId: insertedSkills[1].id, level: \"intermediate\" },\n      { userId: insertedUsers[0].id, skillId: insertedSkills[2].id, level: \"advanced\" },\n      { userId: insertedUsers[1].id, skillId: insertedSkills[3].id, level: \"expert\" },\n      { userId: insertedUsers[1].id, skillId: insertedSkills[0].id, level: \"intermediate\" },\n      { userId: insertedUsers[1].id, skillId: insertedSkills[9].id, level: \"expert\" },\n      { userId: insertedUsers[2].id, skillId: insertedSkills[1].id, level: \"expert\" },\n      { userId: insertedUsers[2].id, skillId: insertedSkills[4].id, level: \"advanced\" },\n      { userId: insertedUsers[2].id, skillId: insertedSkills[5].id, level: \"intermediate\" },\n    ];\n\n    console.log(\"Assigning skills to users...\");\n    const assignedSkills = await db.insert(userSkills).values(userSkillAssignments).onConflictDoNothing().returning();\n    console.log(`Assigned ${assignedSkills.length} skills to users`);\n  }\n\n  const mockPosts = [\n    {\n      authorId: insertedUsers[0].id,\n      content: \"Just finished my first full-stack project using React and Node.js! The journey was challenging but incredibly rewarding. Here's what I learned about managing state and building REST APIs. Would love to hear your thoughts!\",\n      category: \"project\",\n      tags: [\"React\", \"Node.js\", \"Full-Stack\", \"WebDev\"],\n      viewCount: 245,\n    },\n    {\n      authorId: insertedUsers[1].id,\n      content: \"Check out this modern UI design I created for a mobile banking app! Used vibrant gradients and smooth animations to make the experience feel fresh and Gen-Z friendly. What do you think? Any feedback appreciated!\",\n      category: \"project\",\n      tags: [\"UI/UX\", \"Design\", \"Mobile\", \"Figma\"],\n      viewCount: 189,\n    },\n    {\n      authorId: insertedUsers[2].id,\n      content: \"Finally cracked the algorithm for sentiment analysis on Twitter data! Spent 3 days debugging but the results are amazing. Machine learning is tough but so satisfying when it clicks. Who else is working on ML projects?\",\n      category: \"achievement\",\n      tags: [\"Machine Learning\", \"Data Science\", \"Python\", \"NLP\"],\n      viewCount: 321,\n    },\n    {\n      authorId: insertedUsers[0].id,\n      content: \"Study tip: Use the Pomodoro Technique! 25 min focused work + 5 min break = productivity boost. Been using it all week and my code quality improved significantly. What study techniques work best for you?\",\n      category: \"social\",\n      tags: [\"StudyTips\", \"Productivity\", \"StudentLife\"],\n      viewCount: 156,\n    },\n    {\n      authorId: insertedUsers[1].id,\n      content: \"Hot take: Dark mode isn't just aesthetically pleasing, it's essential for reducing eye strain during late-night coding sessions. Plus, it makes those neon accents POP! What's your preferred theme?\",\n      category: \"social\",\n      tags: [\"Design\", \"DarkMode\", \"Coding\"],\n      viewCount: 98,\n    },\n  ];\n\n  console.log(\"Inserting posts...\");\n  let insertedPosts = await db.insert(posts).values(mockPosts).onConflictDoNothing().returning();\n  \n  // If posts already exist, fetch them\n  if (insertedPosts.length === 0) {\n    console.log(\"Posts already exist, fetching existing posts...\");\n    insertedPosts = await db.select().from(posts).limit(5);\n  }\n  console.log(`Using ${insertedPosts.length} posts`);\n\n  if (insertedPosts.length > 0) {\n    const mockComments = [\n      { postId: insertedPosts[0].id, authorId: insertedUsers[1].id, content: \"This is amazing! How did you handle authentication?\" },\n      { postId: insertedPosts[0].id, authorId: insertedUsers[2].id, content: \"Great work! Would love to see the code on GitHub\" },\n      { postId: insertedPosts[1].id, authorId: insertedUsers[0].id, content: \"The gradients are fire! Can you share your color palette?\" },\n      { postId: insertedPosts[2].id, authorId: insertedUsers[0].id, content: \"This is so cool! What library did you use for ML?\" },\n      { postId: insertedPosts[3].id, authorId: insertedUsers[2].id, content: \"Pomodoro changed my life too! Been using it for 2 years\" },\n    ];\n\n    console.log(\"Inserting comments...\");\n    const insertedComments = await db.insert(comments).values(mockComments).onConflictDoNothing().returning();\n    console.log(`Inserted ${insertedComments.length} comments`);\n\n    const mockReactions = [\n      { postId: insertedPosts[0].id, userId: insertedUsers[1].id, type: \"celebrate\" },\n      { postId: insertedPosts[0].id, userId: insertedUsers[2].id, type: \"like\" },\n      { postId: insertedPosts[1].id, userId: insertedUsers[0].id, type: \"like\" },\n      { postId: insertedPosts[1].id, userId: insertedUsers[2].id, type: \"celebrate\" },\n      { postId: insertedPosts[2].id, userId: insertedUsers[0].id, type: \"insightful\" },\n      { postId: insertedPosts[2].id, userId: insertedUsers[1].id, type: \"like\" },\n    ];\n\n    console.log(\"Inserting reactions...\");\n    const insertedReactions = await db.insert(reactions).values(mockReactions).onConflictDoNothing().returning();\n    console.log(`Inserted ${insertedReactions.length} reactions`);\n  }\n\n  const mockCourses = [\n    {\n      name: \"Introduction to Machine Learning\",\n      code: \"CS401\",\n      description: \"Learn the fundamentals of machine learning including supervised and unsupervised learning algorithms.\",\n      university: \"Tech University\",\n      instructorId: insertedUsers[3].id,\n      semester: \"Fall 2024\",\n    },\n    {\n      name: \"Advanced Web Development\",\n      code: \"CS301\",\n      description: \"Master modern web technologies including React, Node.js, and cloud deployment.\",\n      university: \"Tech University\",\n      instructorId: insertedUsers[3].id,\n      semester: \"Fall 2024\",\n    },\n    {\n      name: \"Data Visualization\",\n      code: \"DS201\",\n      description: \"Create compelling visualizations to communicate data insights effectively.\",\n      university: \"Tech University\",\n      instructorId: insertedUsers[4].id,\n      semester: \"Fall 2024\",\n    },\n  ];\n\n  console.log(\"Inserting courses...\");\n  const insertedCourses = await db.insert(courses).values(mockCourses).onConflictDoNothing().returning();\n  console.log(`Inserted ${insertedCourses.length} courses`);\n\n  if (insertedCourses.length > 0) {\n    const mockEnrollments = [\n      { courseId: insertedCourses[0].id, studentId: insertedUsers[0].id },\n      { courseId: insertedCourses[0].id, studentId: insertedUsers[2].id },\n      { courseId: insertedCourses[1].id, studentId: insertedUsers[0].id },\n      { courseId: insertedCourses[1].id, studentId: insertedUsers[1].id },\n      { courseId: insertedCourses[2].id, studentId: insertedUsers[2].id },\n    ];\n\n    console.log(\"Inserting course enrollments...\");\n    const insertedEnrollments = await db.insert(courseEnrollments).values(mockEnrollments).onConflictDoNothing().returning();\n    console.log(`Inserted ${insertedEnrollments.length} enrollments`);\n\n    const mockDiscussions = [\n      {\n        courseId: insertedCourses[0].id,\n        authorId: insertedUsers[0].id,\n        title: \"Question about gradient descent\",\n        content: \"Can someone explain how learning rate affects convergence in gradient descent? Having trouble understanding when to use smaller vs larger values.\",\n        isQuestion: true,\n        isResolved: false,\n        replyCount: 2,\n      },\n      {\n        courseId: insertedCourses[1].id,\n        authorId: insertedUsers[1].id,\n        title: \"Best practices for React hooks?\",\n        content: \"What are your favorite patterns for managing complex state with hooks? Looking to improve my code organization.\",\n        isQuestion: true,\n        isResolved: true,\n        replyCount: 3,\n      },\n    ];\n\n    console.log(\"Inserting course discussions...\");\n    const insertedDiscussions = await db.insert(courseDiscussions).values(mockDiscussions).onConflictDoNothing().returning();\n    console.log(`Inserted ${insertedDiscussions.length} discussions`);\n\n    if (insertedDiscussions.length > 0) {\n      const mockReplies = [\n        {\n          discussionId: insertedDiscussions[0].id,\n          authorId: insertedUsers[2].id,\n          content: \"Smaller learning rates are safer but slower. I usually start with 0.01 and adjust based on how the loss changes. Watch out for oscillation with large values!\",\n        },\n        {\n          discussionId: insertedDiscussions[0].id,\n          authorId: insertedUsers[3].id,\n          content: \"Great question! Think of learning rate as step size. Too big and you overshoot the minimum, too small and training takes forever. Adaptive methods like Adam can help!\",\n        },\n      ];\n\n      console.log(\"Inserting discussion replies...\");\n      const insertedReplies = await db.insert(discussionReplies).values(mockReplies).onConflictDoNothing().returning();\n      console.log(`Inserted ${insertedReplies.length} replies`);\n    }\n  }\n\n  const mockChallenges = [\n    {\n      title: \"Build a Gen-Z Social App\",\n      description: \"Create an engaging social platform for students with modern UI/UX and creative features. Show us your best work!\",\n      organizerId: insertedUsers[6].id,\n      category: \"hackathon\",\n      difficulty: \"advanced\",\n      prizes: \"$5000 First Place, $2000 Second Place, $1000 Third Place\",\n      startDate: new Date(\"2024-12-01\"),\n      endDate: new Date(\"2024-12-15\"),\n      participantCount: 24,\n      status: \"active\",\n    },\n    {\n      title: \"AI Innovation Challenge\",\n      description: \"Develop an AI-powered solution that solves a real-world problem. Focus on practical applications and impact.\",\n      organizerId: insertedUsers[6].id,\n      category: \"innovation\",\n      difficulty: \"advanced\",\n      prizes: \"$10000 Grand Prize + Internship Opportunity\",\n      startDate: new Date(\"2024-11-20\"),\n      endDate: new Date(\"2024-12-20\"),\n      participantCount: 18,\n      status: \"active\",\n    },\n  ];\n\n  console.log(\"Inserting challenges...\");\n  const insertedChallenges = await db.insert(challenges).values(mockChallenges).onConflictDoNothing().returning();\n  console.log(`Inserted ${insertedChallenges.length} challenges`);\n\n  if (insertedChallenges.length > 0) {\n    const mockParticipants = [\n      { challengeId: insertedChallenges[0].id, userId: insertedUsers[0].id },\n      { challengeId: insertedChallenges[0].id, userId: insertedUsers[1].id },\n      { challengeId: insertedChallenges[1].id, userId: insertedUsers[0].id },\n      { challengeId: insertedChallenges[1].id, userId: insertedUsers[2].id },\n    ];\n\n    console.log(\"Inserting challenge participants...\");\n    const insertedParticipants = await db.insert(challengeParticipants).values(mockParticipants).onConflictDoNothing().returning();\n    console.log(`Inserted ${insertedParticipants.length} participants`);\n  }\n\n  const mockNotifications = [\n    {\n      userId: insertedUsers[0].id,\n      type: \"reaction\",\n      title: \"New Reaction\",\n      message: \"Jordan Chen reacted to your post\",\n      link: \"/posts\",\n      isRead: false,\n    },\n    {\n      userId: insertedUsers[0].id,\n      type: \"comment\",\n      title: \"New Comment\",\n      message: \"Maya Patel commented on your post\",\n      link: \"/posts\",\n      isRead: false,\n    },\n    {\n      userId: insertedUsers[1].id,\n      type: \"badge\",\n      title: \"Badge Unlocked!\",\n      message: \"You earned the Rising Star badge!\",\n      link: \"/profile\",\n      isRead: false,\n    },\n  ];\n\n  console.log(\"Inserting notifications...\");\n  const insertedNotifications = await db.insert(notifications).values(mockNotifications).onConflictDoNothing().returning();\n  console.log(`Inserted ${insertedNotifications.length} notifications`);\n\n  const mockAnnouncements = [\n    {\n      authorId: insertedUsers[5].id,\n      title: \"Welcome to Fall 2024 Semester!\",\n      content: \"We're excited to kick off a new semester full of learning, collaboration, and innovation. Check out the new features on UniNexus to connect with peers and mentors!\",\n      university: \"Tech University\",\n      isPinned: true,\n    },\n    {\n      authorId: insertedUsers[5].id,\n      title: \"Career Fair This Friday\",\n      content: \"Join us for the virtual career fair this Friday! Meet recruiters from top tech companies and explore internship opportunities. Don't miss out!\",\n      university: \"Tech University\",\n      isPinned: true,\n    },\n  ];\n\n  console.log(\"Inserting announcements...\");\n  const insertedAnnouncements = await db.insert(announcements).values(mockAnnouncements).onConflictDoNothing().returning();\n  console.log(`Inserted ${insertedAnnouncements.length} announcements`);\n\n  console.log(\"Database seed completed successfully!\");\n}\n\nseedDatabase().catch((error) => {\n  console.error(\"Error seeding database:\", error);\n  process.exit(1);\n});\n","size_bytes":21789},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        heading: [\"var(--font-heading)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4054},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/lib/firebase.ts":{"content":"import { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider } from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY || 'demo-api-key',\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN || 'demo.firebaseapp.com',\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID || 'demo-project',\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET || 'demo.appspot.com',\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID || '123456789',\n  appId: import.meta.env.VITE_FIREBASE_APP_ID || '1:123456789:web:abcdef',\n};\n\nlet auth: any = null;\nlet googleProvider: any = null;\n\ntry {\n  const app = initializeApp(firebaseConfig);\n  auth = getAuth(app);\n  googleProvider = new GoogleAuthProvider();\n} catch (error) {\n  console.warn('Firebase initialization failed. Using fallback auth.');\n}\n\nexport { auth, googleProvider };\n","size_bytes":907},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/pages/Profile.tsx":{"content":"import { useAuth } from \"@/hooks/useAuth\";\nimport { Card } from \"@/components/ui/card\";\nimport { UserAvatar } from \"@/components/UserAvatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { UserBadge, Badge as BadgeType, Endorsement, Skill, User } from \"@shared/schema\";\nimport { BadgeIcon } from \"@/components/BadgeIcon\";\nimport { Award, TrendingUp, Zap, Trophy } from \"lucide-react\";\n\nexport default function Profile() {\n  const { userData: user } = useAuth();\n\n  const { data: userBadges = [] } = useQuery<(UserBadge & { badge: BadgeType })[]>({\n    queryKey: [\"/api/user-badges\", user?.id],\n    enabled: !!user,\n  });\n\n  const { data: endorsements = [] } = useQuery<(Endorsement & { endorser: User, skill?: Skill })[]>({\n    queryKey: [\"/api/endorsements\", user?.id],\n    enabled: !!user,\n  });\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-6 max-w-5xl\">\n      {/* Profile Header */}\n      <Card className=\"p-8 mb-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white\">\n        <div className=\"flex items-start gap-6\">\n          <UserAvatar user={user} size=\"xl\" className=\"border-4 border-white\" />\n          <div className=\"flex-1\">\n            <h1 className=\"font-heading text-3xl font-bold mb-2\">\n              {user.firstName} {user.lastName}\n            </h1>\n            {user.major && (\n              <p className=\"text-purple-100 text-lg mb-1\">{user.major}</p>\n            )}\n            {user.university && (\n              <p className=\"text-purple-100 mb-3\">{user.university}</p>\n            )}\n            {user.bio && (\n              <p className=\"text-white/90 mt-4\">{user.bio}</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\">\n          <div className=\"bg-white/20 backdrop-blur rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <TrendingUp className=\"h-5 w-5\" />\n              <span className=\"text-sm\">Engagement</span>\n            </div>\n            <div className=\"text-2xl font-bold\">{user.engagementScore || 0}</div>\n          </div>\n\n          <div className=\"bg-white/20 backdrop-blur rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <Trophy className=\"h-5 w-5\" />\n              <span className=\"text-sm\">Problem Solver</span>\n            </div>\n            <div className=\"text-2xl font-bold\">{user.problemSolverScore || 0}</div>\n          </div>\n\n          <div className=\"bg-white/20 backdrop-blur rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <Award className=\"h-5 w-5\" />\n              <span className=\"text-sm\">Endorsements</span>\n            </div>\n            <div className=\"text-2xl font-bold\">{user.endorsementScore || 0}</div>\n          </div>\n\n          <div className=\"bg-white/20 backdrop-blur rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <Zap className=\"h-5 w-5\" />\n              <span className=\"text-sm\">Streak</span>\n            </div>\n            <div className=\"text-2xl font-bold\">{user.streak || 0} days</div>\n          </div>\n        </div>\n      </Card>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Badges */}\n        <Card className=\"p-6\">\n          <h2 className=\"font-heading text-xl font-semibold mb-4 flex items-center gap-2\">\n            <Trophy className=\"h-5 w-5 text-yellow-600\" />\n            Achievements ({userBadges.length})\n          </h2>\n          {userBadges.length > 0 ? (\n            <div className=\"grid grid-cols-3 gap-4\">\n              {userBadges.map((ub) => (\n                <div key={ub.id} className=\"flex flex-col items-center gap-2\">\n                  <BadgeIcon badge={ub.badge} size=\"lg\" />\n                  <div className=\"text-xs text-center font-medium\">{ub.badge.name}</div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              <Trophy className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n              <p>No badges earned yet</p>\n              <p className=\"text-sm\">Keep engaging to unlock achievements!</p>\n            </div>\n          )}\n        </Card>\n\n        {/* Endorsements */}\n        <Card className=\"p-6\">\n          <h2 className=\"font-heading text-xl font-semibold mb-4 flex items-center gap-2\">\n            <Award className=\"h-5 w-5 text-purple-600\" />\n            Endorsements ({endorsements.length})\n          </h2>\n          {endorsements.length > 0 ? (\n            <div className=\"space-y-3\">\n              {endorsements.slice(0, 5).map((endorsement) => (\n                <div key={endorsement.id} className=\"border-l-2 border-primary pl-3 py-2\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <UserAvatar user={endorsement.endorser} size=\"sm\" />\n                    <div>\n                      <div className=\"font-medium text-sm\">\n                        {endorsement.endorser.firstName} {endorsement.endorser.lastName}\n                      </div>\n                      {endorsement.skill && (\n                        <Badge variant=\"secondary\" className=\"text-xs mt-1\">\n                          {endorsement.skill.name}\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                  {endorsement.comment && (\n                    <p className=\"text-sm text-muted-foreground mt-2\">\n                      \"{endorsement.comment}\"\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              <Award className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n              <p>No endorsements yet</p>\n              <p className=\"text-sm\">Keep up the great work!</p>\n            </div>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6076},".local/state/replit/agent/progress_tracker.md":{"content":"[x] 1. Install the required packages\n[x] 2. Restart the workflow to see if the project is working\n[x] 3. Verify the project is working using the feedback tool\n[x] 4. Inform user the import is completed and they can start building\n[x] 5. Generate comprehensive mock data for all features\n[x] 6. Apply Gen Z interface with neon gradients (purple-blue-pink)\n[x] 7. Implement interest-based filtering for social feed\n[x] 8. Build gamified profile page with badges and skills\n[x] 9. Create leaderboard system with rankings\n[x] 10. Add database seed script (npm run db:seed)\n[x] 11. Import migration completed - app is running successfully  \n[x] 12. Fix Firebase configuration for development environment\n[x] 13. Verify application loads successfully\n[x] 14. Complete project import migration\n[x] 15. Add discussion upvoting schema (discussionUpvotes table)","size_bytes":851},"README.md":{"content":"# UniNexus â€” Genâ€‘Z Social Learning & Engagement Platform\n\nUniNexus is a modern social-learning and engagement platform aimed at Genâ€‘Z students. It combines community features (posts, profiles, feeds), learning tools (courses, micro-lessons, quizzes), and career/mentorship services into a single mobileâ€‘friendly web app.\n\nThis README describes the project's purpose, main features, architecture, development setup, and other technical details to help contributors get started quickly.\n\n## Key goals\n- Provide a social feed where students can post, react, and discuss learning materials.\n- Offer compact learning experiences (micro-lessons, flashcards, quizzes).\n- Connect students with career resources, bots/AI helpers, and industry dashboards.\n- Prioritize mobile-first experiences and Genâ€‘Z friendly UI and UX.\n\n## Features\n- User authentication (Firebase auth on client; Firebase Admin on server).\n- Rich social feed: posts, likes, comments, images/media.\n- Role-based UI and access control (student, mentor, industry, admin).\n- Career tools: dashboards, bot helpers, and resources.\n- Small learning modules: posts-as-lessons, quizzes, badges/achievements.\n- Realtime-ish features: notifications, toasts, and lightweight websocket support (where applicable).\n- Admin/dev tools: seed data, database migrations with Drizzle, and simple server routes.\n\n## Tech stack\n- Frontend: React (TypeScript), Vite, Tailwind CSS\n- Backend: Node (ESM), Express + lightweight routes\n- Database: Postgres (via DATABASE_URL); Drizzle ORM and drizzle-kit for migrations\n- Authentication: Firebase (client) + Firebase Admin (server)\n- Storage: Firebase Storage (used for media/uploads)\n- Dev tooling: tsx for running TypeScript entrypoints, esbuild for bundling server artifact, vite for frontend build/dev\n- Optional AI: OpenAI integration (OPENAI_API_KEY) for assistant features\n\nDependencies and devDependencies are declared in `package.json` â€” key scripts used by contributors are listed below.\n\n## Repo layout (important folders)\n- `client/` â€” React app (entries: `main.tsx`, `App.tsx`, `pages/`, `components/`).\n- `server/` â€” Server entry and backend logic (`index.ts`, `routes.ts`, `firebaseAuth.ts`, `seed.ts`, `storage.ts`, etc.).\n- `shared/` â€” Shared types and DB schema (`schema.ts`).\n- `migrations/` and `drizzle.config.ts` â€” DB migrations and Drizzle configuration.\n- `attached_assets/` â€” design / spec documents and notes.\n\n## Environment variables\nUse `.env` (or a dev `.env.local`) based on `.env.example`. Do NOT commit real secrets or service account keys.\n\nFrom `.env.example`:\n\n- VITE_FIREBASE_API_KEY â€” Firebase web API key (client)\n- VITE_FIREBASE_AUTH_DOMAIN â€” Firebase auth domain\n- VITE_FIREBASE_PROJECT_ID â€” Firebase project id\n- VITE_FIREBASE_STORAGE_BUCKET â€” Firebase storage bucket\n- VITE_FIREBASE_MESSAGING_SENDER_ID â€” Firebase messaging id\n- VITE_FIREBASE_APP_ID â€” Firebase app id\n- (Backend) serviceAccountKey.json â€” Firebase Admin SDK JSON file (place in project root, DO NOT commit)\n- OPENAI_API_KEY â€” (optional) OpenAI API key for AI assistant features\n- DATABASE_URL â€” Postgres connection string used by Drizzle and server\n\nAdd any additional variables your environment requires (for example, session secrets or thirdâ€‘party API keys).\n\n## Scripts\nKey scripts from `package.json` (run from project root):\n\n- npm run dev â€” Runs the server in development mode (uses `tsx server/index.ts`) and starts the Vite frontend dev server.\n- npm run build â€” Builds the frontend with Vite and bundles the server using esbuild into `dist/`.\n- npm run start â€” Runs the production server from `dist/index.js`.\n- npm run check â€” Runs TypeScript type checks (tsc).\n- npm run db:push â€” Push schemas/migrations using `drizzle-kit`.\n- npm run db:seed â€” Run `server/seed.ts` via `tsx` to seed dev data.\n\nExample: to start locally (see prerequisites below):\n\n```bash\n# install deps\nnpm install\n\n# start dev server (frontend + backend dev)\nnpm run dev\n```\n\n## Local development â€” quickstart\nPrerequisites:\n- Node.js (LTS recommended; Node 18+ preferred)\n- npm (or pnpm/yarn) â€” examples below use npm\n- Postgres instance (or use a dev container) and export `DATABASE_URL`\n- Firebase project and client keys (populate env vars listed above)\n\nSteps:\n1. Clone the repo and cd into it.\n2. Copy `.env.example` to `.env` and fill in your Firebase and DB values.\n3. Place `serviceAccountKey.json` (Firebase Admin) in the project root for server use. Keep this secret.\n4. Install dependencies:\n\n```bash\nnpm install\n```\n\n5. (Optional) Prepare the database and push Drizzle migrations:\n\n```bash\nnpm run db:push\nnpm run db:seed\n```\n\n6. Start development mode:\n\n```bash\nnpm run dev\n```\n\nOpen the frontend at the URL printed by the Vite dev server (usually http://localhost:5173) and the backend routes as printed on server start.\n\n## Architecture notes\n- The project uses a single repository with a separate `client/` and `server/` entry but shared types/schemas in `shared/`.\n- The server is written in TypeScript (ESM) and is designed to be bundled for production with esbuild.\n- Database models are defined using Drizzle's schema in `shared/schema.ts` and migrations are stored under `migrations/`.\n- Authentication flow:\n  - Client authenticates with Firebase (web SDK) â€” tokens returned to client.\n  - Backend validates tokens using the Firebase Admin SDK (service account JSON) on protected routes.\n- Optional AI features use the OpenAI SDK; guard usage behind environment checks and rate limiting for production.\n\n## API & routes\n- Server routes live in `server/routes.ts` and the main server entry is `server/index.ts`.\n- Typical patterns: JSON REST endpoints, express middleware for sessions/auth, and static/frontend proxying in dev.\n\n## Tests, linting & typechecking\n- The repo includes `tsc` for type checks (`npm run check`). Add linting (ESLint) if desired. There are no test scripts in `package.json` by default â€” consider adding unit/integration tests in `client/` and `server/` with a framework like Vitest or Jest.\n\n## Deployment\n- Build for production with `npm run build` (bundles frontend and server). Deploy static frontend to your hosting provider and start the bundled server (`npm run start`).\n- For server deployment, ensure `serviceAccountKey.json` or equivalent secret is available securely (use env-based secrets in cloud providers).\n- For Postgres, provide a managed instance and set `DATABASE_URL` accordingly.\n\n## Contributing\n- Fork & open PRs. Keep changes focused.\n- Add tests for new functionality.\n- Keep secrets out of the repository. Use `.gitignore` to exclude `serviceAccountKey.json` and `.env`.\n\n## Next steps & low-risk improvements (suggested)\n- Add automated tests (Vitest) and a CI pipeline for typechecking and linting.\n- Add ESLint and a prettier configuration to enforce consistent style.\n- Add GitHub Actions for build + deploy and DB migration verification.\n- Add a simple Postgres Docker Compose file for local development.\n\n## Contact / maintainers\nSee repository owner and contributors for maintenance and access. For architecture discussions, open an issue or PR with the `proposal` label.\n\n---\n*This README was generated to reflect the repository structure and scripts. If something here is inaccurate or you prefer a different workflow, update this file or open a PR.*\n","size_bytes":7371},"client/src/components/SuggestedPosts.tsx":{"content":"import { useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Sparkles, RefreshCw } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface PostSuggestion {\n  category: string;\n  content: string;\n  tags: string[];\n}\n\ninterface SuggestedPostsProps {\n  onSelectSuggestion: (content: string, category: string, tags: string[]) => void;\n}\n\nexport function SuggestedPosts({ onSelectSuggestion }: SuggestedPostsProps) {\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  const { data, isLoading } = useQuery<{ posts?: PostSuggestion[] }>({\n    queryKey: [\"/api/ai/suggest-posts\", refreshKey],\n    staleTime: 5 * 60 * 1000,\n  });\n\n  const suggestions = data?.posts || [];\n\n  const handleRefresh = () => {\n    setRefreshKey(prev => prev + 1);\n  };\n\n  if (!suggestions.length && !isLoading) {\n    return null;\n  }\n\n  return (\n    <Card className=\"p-4\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <Sparkles className=\"h-5 w-5 text-purple-600\" />\n          <h3 className=\"font-semibold\">AI Post Ideas</h3>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleRefresh}\n          disabled={isLoading}\n          data-testid=\"button-refresh-suggestions\"\n        >\n          <RefreshCw className={`h-4 w-4 ${isLoading ? 'animate-spin' : ''}`} />\n        </Button>\n      </div>\n\n      {isLoading ? (\n        <div className=\"space-y-2\">\n          {[1, 2, 3].map(i => (\n            <div key={i} className=\"h-20 bg-muted animate-pulse rounded-md\" />\n          ))}\n        </div>\n      ) : (\n        <div className=\"space-y-2\">\n          {suggestions.map((suggestion, index) => (\n            <div\n              key={index}\n              className=\"p-3 border rounded-md hover-elevate cursor-pointer\"\n              onClick={() => onSelectSuggestion(suggestion.content, suggestion.category, suggestion.tags)}\n              data-testid={`suggestion-${index}`}\n            >\n              <div className=\"flex items-start justify-between gap-2 mb-1\">\n                <Badge variant=\"secondary\" className=\"text-xs\">\n                  {suggestion.category}\n                </Badge>\n              </div>\n              <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                {suggestion.content}\n              </p>\n              {suggestion.tags && suggestion.tags.length > 0 && (\n                <div className=\"flex gap-1 mt-2 flex-wrap\">\n                  {suggestion.tags.map((tag, i) => (\n                    <span key={i} className=\"text-xs text-primary\">\n                      #{tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </Card>\n  );\n}\n","size_bytes":2926}},"version":2}