# Replit Agent Prompt — UniNexus: Implement Remaining Features & Seed Dummy Data

**Goal (short):** On a Replit workspace, implement any missing features from the UniNexus spec below and fully seed the app with mock/dummy data for all mock pages so QA and demos can run without human data entry.

**High-level requirements (must be implemented if absent):**

1. Multi-role authentication: Student, Teacher, University Admin using **Replit Auth** (or Replit OAuth); role-based route guards and session management.
2. Student Social Feed: posts (text/images), comments, reactions (like/love/etc.), interest-based filtering and feed algorithm (simple weight-based ranking).
3. Gamified Student Profiles: badges, skill tags, engagement score, achievement timeline, and badge unlock events.
4. AI-powered features using OpenAI API:

   * Post suggestions (title/body prompts) for students.
   * Career guidance chatbot endpoint (chat UI) that proxies to OpenAI; include safety/content-moderation.
   * Content moderation: flagging and auto-block suggestions via OpenAI moderation API.
5. Teacher dashboard: list students, endorse skills, review engagement analytics (graphs/metrics).
6. University admin panel: engagement metrics, retention insights, announcements (create/publish).
7. Course discussion forums: threads, Q&A model, upvotes, accepted answers.
8. Leaderboard: top students by engagement, problem-solving, and endorsements.
9. UI: vibrant Gen Z theme (neon purple–blue–pink gradients), smooth animations, card-based layouts.
10. Real-time notifications for reactions, comments, endorsements, and badge unlocks (WebSockets or Replit pub/sub).

---

## Suggested stack & Replit-specific services

* Backend: Node.js + Express (or Remix/Next if you prefer fullstack). Keep API RESTful with a few real-time socket endpoints.
* Database: PostgreSQL (Replit DB can be used for quick demo, but prefer Postgres for relational queries). If Postgres not available, use SQLite but include migration script.
* Realtime: Socket.io (works on Replit) or Ably/Pusher. Replit pub/sub can be used for scaling.
* Auth: **Replit Auth** or OAuth with Replit secrets for callback URL. Store roles in user profile table.
* Storage: Replit Storage or Cloudinary (for images). Provide a simple image upload flow (base64 + store URL in DB) for mock images.
* AI: OpenAI (use `OPENAI_API_KEY` from Replit Secrets). Use moderation endpoint for content moderation.
* Frontend: React (Vite) or Next.js; Tailwind CSS (or Tailwind + Framer Motion for animations). Theme tokens for neon gradient.

---

## Implementation tasks (priority order)

1. **Audit repo:** detect which features exist vs missing. Create a TODO matrix in `DEV_STATUS.md`.
2. **Auth:** implement Replit Auth login + role assignment. Ensure routes `/api/auth`, `/api/me` return roles.
3. **Feed APIs:** `GET /api/feed`, `POST /api/posts`, `POST /api/posts/:id/comment`, `POST /api/posts/:id/react`.
4. **AI endpoints:** `POST /api/ai/post-suggest`, `POST /api/ai/career-chat`, `POST /api/ai/moderate`.
5. **Teacher & Admin APIs:** endpoints for endorsing skills, fetching analytics, publishing announcements.
6. **Forums:** CRUD for threads & answers; upvote & accept actions.
7. **Badges & leaderboard:** badge rules engine (JS module), `POST /api/badges/award`, `GET /api/leaderboard`.
8. **Notifications:** socket namespace `/notifications`, events: `reaction`, `comment`, `endorsement`, `badge`.
9. **Frontend pages:** Social feed, Profile (with badges timeline), Teacher dashboard, Admin panel, Course forum, Leaderboard, Chatbot modal.
10. **Styling:** add `theme.css` with neon gradients and Tailwind tokens; include `prefers-reduced-motion` fallback.

---

## Dummy data & seed plan (must be included in repo)

Add a node script `scripts/seed-demo.js` that seeds the database and uploads placeholder images. Requirements:

* Create roles: student, teacher, admin.
* Create 30 users: 22 students, 6 teachers, 2 university admins. Students have interests arrays (e.g., `['ai','web','cyber']`).
* Create 60 posts: mix of text-only and image posts; each post has 0–12 comments, 0–50 reactions.
* Create 12 courses and for each course, create 5–8 forum threads with 3–10 answers each, with some accepted answers.
* Award badges to students based on engagement heuristics; generate engagement_score for each user (0–1000).
* Leaderboard calculation seeds top 10 students.
* Create 20 announcements for admin panel (some scheduled, some published).
* Populate teacher endorsements for student skill tags.

Include a `mock-data` folder containing JSON exports for users, posts, threads, badges.

**Seed script usage:** `node scripts/seed-demo.js --db sqlite://./dev.db --uploadImages` (script should be idempotent)

---

## Acceptance criteria / tests

* Auth: Login flow works on Replit preview; user roles persist and route guards prevent unauthorised access.
* Feed: feed loads within 2s and interest filters return relevant posts.
* AI: Post suggestion returns a 1–3 line suggestion; Career chatbot responds to queries; moderation flags profanity.
* Notifications: real-time events arrive within 1s on the connected client.
* Teacher dashboard: can endorse a skill and see endorsement count update in real-time.
* Admin panel: shows engagement metrics and can publish an announcement.
* Seed: running `scripts/seed-demo.js` populates the UI pages with mock content without errors.

---

## Security & secrets

* Require `OPENAI_API_KEY` in Replit Secrets.
* Keep DB connection string, Cloudinary keys, and any 3rd-party keys in Replit Secrets.
* Sanitize user-generated content and run OpenAI moderation before posting publicly.

---

## Developer notes & commands

* Start dev server: `npm run dev`
* Run seed: `node scripts/seed-demo.js`
* Run tests: `npm test` (add basic Jest tests for API endpoints)
* Lint & format: `npm run lint && npm run format`

---

## Minimal example: seed entry for one student (JSON)

```json
{
  "id": "student_01",
  "role": "student",
  "name": "Aisha Khan",
  "email": "aisha.khan@example.com",
  "interests": ["ai","web","sustainability"],
  "badges": ["starter","community_helper"],
  "engagement_score": 412
}
```

---

## Final instructions for the Replit Agent

1. Clone the current workspace.
2. Run the audit task and update `DEV_STATUS.md` with feature status.
3. Implement any missing high-priority features above. If a feature already exists, verify and add tests and demo data.
4. Add `scripts/seed-demo.js` and `mock-data/` JSON exports.
5. Commit changes to a new branch `feature/seed-and-complete` and open a PR with the checklist fulfilled.

---

If anything is ambiguous, assume a minimal but fully working demo is preferred over partial, complex implementations. Prioritise: auth → feed → AI endpoints → seed scripts → realtime notifications → dashboards.

Good luck — ship a demo that impresses and lets stakeholders click through every page with realistic content.
